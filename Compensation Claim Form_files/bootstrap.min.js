!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function r(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];e=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?e[t]:e}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),i=t.overflow,n=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(i+t+n)?e:c(l(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}function h(e){return 11===e?Z:10!==e&&Z||Q}function f(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===u(i,"position")?f(i):i:(e?e.ownerDocument:document).documentElement}function o(e){return null===e.parentNode?e:o(e.parentNode)}function p(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,i=i?t:e,a=document.createRange(),a=(a.setStart(n,0),a.setEnd(i,0),a.commonAncestorContainer);if(e!==a&&t!==a||n.contains(i))return"BODY"===(i=(n=a).nodeName)||"HTML"!==i&&f(n.firstElementChild)!==n?f(a):a;i=o(e);return i.host?p(i.host,t):p(e,o(t).host)}function m(e,t){var t="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",i=e.nodeName;return"BODY"===i||"HTML"===i?(i=e.ownerDocument.documentElement,(e.ownerDocument.scrollingElement||i)[t]):e[t]}function a(e,t){var t="x"===t?"Left":"Top",i="Left"==t?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+i+"Width"])}function n(e,t,i,n){return M(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],h(10)?parseInt(i["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,e=e.documentElement,i=h(10)&&getComputedStyle(e);return{height:n("Height",t,e,i),width:n("Width",t,e,i)}}function v(e){return N({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};try{h(10)?(t=e.getBoundingClientRect(),i=m(e,"top"),n=m(e,"left"),t.top+=i,t.left+=n,t.bottom+=i,t.right+=n):t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},n="HTML"===e.nodeName?g(e.ownerDocument):{},t=n.width||e.clientWidth||i.width,n=n.height||e.clientHeight||i.height,t=e.offsetWidth-t,n=e.offsetHeight-n;return(t||n)&&(t-=a(e=u(e),"x"),n-=a(e,"y"),i.width-=t,i.height-=n),v(i)}function w(e,t,i){var i=2<arguments.length&&void 0!==i&&i,n=h(10),a="HTML"===t.nodeName,o=_(e),r=_(t),e=c(e),s=u(t),l=parseFloat(s.borderTopWidth),d=parseFloat(s.borderLeftWidth),r=(i&&a&&(r.top=M(r.top,0),r.left=M(r.left,0)),v({top:o.top-r.top-l,left:o.left-r.left-d,width:o.width,height:o.height}));return r.marginTop=0,r.marginLeft=0,!n&&a&&(o=parseFloat(s.marginTop),a=parseFloat(s.marginLeft),r.top-=l-o,r.bottom-=l-o,r.left-=d-a,r.right-=d-a,r.marginTop=o,r.marginLeft=a),r=(n&&!i?t.contains(e):t===e&&"BODY"!==e.nodeName)?function(e,t,i){var i=2<arguments.length&&void 0!==i&&i,n=m(t,"top"),t=m(t,"left"),i=i?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=t*i,e.right+=t*i,e}(r,t):r}function b(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function y(e,t,i,n,a){var o,a=4<arguments.length&&void 0!==a&&a,r={top:0,left:0},s=a?b(e):p(e,d(t)),s=("viewport"===n?r=function(e,t){var t=1<arguments.length&&void 0!==t&&t,i=e.ownerDocument.documentElement,e=w(e,i),n=M(i.clientWidth,window.innerWidth||0),a=M(i.clientHeight,window.innerHeight||0),o=t?0:m(i),t=t?0:m(i,"left");return v({top:o-e.top+e.marginTop,left:t-e.left+e.marginLeft,width:n,height:a})}(s,a):("scrollParent"===n?"BODY"===(o=c(l(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===n?e.ownerDocument.documentElement:n,t=w(o,s,a),"HTML"!==o.nodeName||function e(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===u(t,"position"))return!0;i=l(t);return!!i&&e(i)}(s)?r=t:(a=(n=g(e.ownerDocument)).height,o=n.width,r.top+=t.top-t.marginTop,r.bottom=a+t.top,r.left+=t.left-t.marginLeft,r.right=o+t.left)),"number"==typeof(i=i||0));return r.left+=s?i:i.left||0,r.top+=s?i:i.top||0,r.right-=s?i:i.right||0,r.bottom-=s?i:i.bottom||0,r}function s(e,t,i,n,a,o){o=5<arguments.length&&void 0!==o?o:0;if(-1===e.indexOf("auto"))return e;var n=y(i,n,o,a),r={top:{width:n.width,height:t.top-n.top},right:{width:n.right-t.right,height:n.height},bottom:{width:n.width,height:n.bottom-t.bottom},left:{width:t.left-n.left,height:n.height}},o=Object.keys(r).map(function(e){return N({key:e},r[e],{area:(e=r[e]).width*e.height})}).sort(function(e,t){return t.area-e.area}),a=o.filter(function(e){var t=e.width,e=e.height;return t>=i.clientWidth&&e>=i.clientHeight}),t=(0<a.length?a:o)[0].key,n=e.split("-")[1];return t+(n?"-"+n:"")}function C(e,t,i,n){n=3<arguments.length&&void 0!==n?n:null;return w(i,n?b(t):p(t,d(i)),n)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),t=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+t,height:e.offsetHeight+i}}function T(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function E(e,t,i){i=i.split("-")[0];var e=D(e),n={width:e.width,height:e.height},a=-1!==["right","left"].indexOf(i),o=a?"top":"left",r=a?"left":"top",s=a?"height":"width",a=a?"width":"height";return n[o]=t[o]+t[s]/2-e[s]/2,n[r]=i===r?t[r]-e[a]:t[T(r)],n}function k(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function S(e,i,t){return(void 0===t?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var n=k(e,function(e){return e[t]===i});return e.indexOf(n)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&r(t)&&(i.offsets.popper=v(i.offsets.popper),i.offsets.reference=v(i.offsets.reference),i=t(i,e))}),i}function t(e,i){return e.some(function(e){var t=e.name;return e.enabled&&t===i})}function x(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],a=a?""+a+i:e;if(void 0!==document.body.style[a])return a}return null}function $(e){e=e.ownerDocument;return e?e.defaultView:window}function j(e,t,i,n){i.updateBound=n,$(e).addEventListener("resize",i.updateBound,{passive:!0});n=c(e);return function e(t,i,n,a){var o="BODY"===t.nodeName,t=o?t.ownerDocument.defaultView:t;t.addEventListener(i,n,{passive:!0}),o||e(c(t.parentNode),i,n,a),a.push(t)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function L(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,$(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function F(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function I(i,n){Object.keys(n).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&F(n[e])&&(t="px"),i.style[e]=n[e]+t})}function z(e,t){function i(e){return e}var n=e.offsets,a=n.popper,n=n.reference,o=V,n=o(n.width),r=o(a.width),s=-1!==["left","right"].indexOf(e.placement),e=-1!==e.placement.indexOf("-"),s=t?s||e||n%2==r%2?o:P:i,o=t?o:i;return{left:s(1==n%2&&1==r%2&&!e&&t?a.left-1:a.left),top:o(a.top),bottom:o(a.bottom),right:s(a.right)}}function R(e,t,i){var n,a=k(e,function(e){return e.name===t}),e=!!a&&e.some(function(e){return e.name===i&&e.enabled&&e.order<a.order});return e||(n="`"+t+"`",console.warn("`"+i+"` modifier is required by "+n+" modifier in order to work, be sure to include it before "+n+"!")),e}function B(e,t){t=1<arguments.length&&void 0!==t&&t,e=O.indexOf(e),e=O.slice(e+1).concat(O.slice(0,e));return t?e.reverse():e}function H(e,s,l,t){var a=[0,0],n=-1!==["right","left"].indexOf(t),t=e.split(/(\+|\-)/).map(function(e){return e.trim()}),e=t.indexOf(k(t,function(e){return-1!==e.search(/,|\s/)})),i=(t[e]&&-1===t[e].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),/\s*,\s*|\s+/);return(-1===e?[t]:[t.slice(0,e).concat([t[e].split(i)[0]]),[t[e].split(i)[1]].concat(t.slice(e+1))]).map(function(e,t){var r=(1===t?!n:n)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return t=r,i=s,n=l,a=+(o=(e=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],o=o[2],a?0===o.indexOf("%")?v("%p"===o?i:n)[t]/100*a:"vh"===o||"vw"===o?("vh"===o?M(document.documentElement.clientHeight,window.innerHeight||0):M(document.documentElement.clientWidth,window.innerWidth||0))/100*a:a:e;var t,i,n,a,o})}).forEach(function(i,n){i.forEach(function(e,t){F(e)&&(a[n]+=e*("-"===i[t-1]?-1:1))})}),a}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var W=Math.min,P=Math.floor,V=Math.round,M=Math.max,i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,q=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}(),Y=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},q))}},Z=i&&!(!window.MSInputMethodContext||!document.documentMode),Q=i&&/MSIE 10/.test(navigator.userAgent),e=function(e,t,i){return t&&te(e.prototype,t),i&&te(e,i),e},N=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},K=i&&/Firefox/i.test(navigator.userAgent),J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],O=J.slice(3),X="flip",G="clockwise",ee="counterclockwise",e=(e(U,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=C(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=s(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=E(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=S(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,t(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[x("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=j(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return L.call(this)}}]),U);function U(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=this,o=U;if(!(a instanceof o))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=Y(this.update.bind(this)),this.options=N({},U.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(N({},U.Defaults.modifiers,n.modifiers)).forEach(function(e){i.options.modifiers[e]=N({},U.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return N({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&r(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}function te(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return e.Utils=("undefined"==typeof window?global:window).PopperUtils,e.placements=J,e.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,i,n,a=e.placement,o=a.split("-")[0],a=a.split("-")[1];return a&&(t=(i=e.offsets).reference,i=i.popper,n=(o=-1!==["bottom","top"].indexOf(o))?"width":"height",o={start:A({},o=o?"left":"top",t[o]),end:A({},o,t[o]+t[n]-i[n])},e.offsets.popper=N({},i,o[a])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var t=t.offset,i=e.placement,n=(a=e.offsets).popper,a=a.reference,i=i.split("-")[0],t=F(+t)?[+t,0]:H(t,n,a,i);return"left"===i?(n.top+=t[0],n.left-=t[1]):"right"===i?(n.top+=t[0],n.left+=t[1]):"top"===i?(n.left+=t[0],n.top-=t[1]):"bottom"===i&&(n.left+=t[0],n.top+=t[1]),e.popper=n,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,n){var t=n.boundariesElement||f(e.instance.popper),i=(e.instance.reference===t&&(t=f(t)),x("transform")),a=e.instance.popper.style,o=a.top,r=a.left,s=a[i],l=(a.top="",a.left="",a[i]="",y(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed)),t=(a.top=o,a.left=r,a[i]=s,n.boundaries=l,n.priority),d=e.offsets.popper,c={primary:function(e){var t=d[e];return d[e]<l[e]&&!n.escapeWithReference&&(t=M(d[e],l[e])),A({},e,t)},secondary:function(e){var t="right"===e?"left":"top",i=d[t];return d[e]>l[e]&&!n.escapeWithReference&&(i=W(d[t],l[e]-("right"===e?d.width:d.height))),A({},t,i)}};return t.forEach(function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";d=N({},d,c[t](e))}),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,t=t.reference,n=e.placement.split("-")[0],a=P,n=-1!==["top","bottom"].indexOf(n),o=n?"right":"bottom",r=n?"left":"top",n=n?"width":"height";return i[o]<a(t[r])&&(e.offsets.popper[r]=a(t[r])-i[n]),i[r]>a(t[o])&&(e.offsets.popper[r]=a(t[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(R(e.instance.modifiers,"arrow","keepTogether")){t=t.element;if("string"==typeof t){if(!(t=e.instance.popper.querySelector(t)))return e}else if(!e.instance.popper.contains(t))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],n=e.offsets,a=n.popper,n=n.reference,i=-1!==["left","right"].indexOf(i),o=i?"height":"width",r=i?"Top":"Left",s=r.toLowerCase(),l=i?"left":"top",i=i?"bottom":"right",d=D(t)[o],i=(n[i]-d<a[s]&&(e.offsets.popper[s]-=a[s]-(n[i]-d)),n[s]+d>a[i]&&(e.offsets.popper[s]+=n[s]+d-a[i]),e.offsets.popper=v(e.offsets.popper),n[s]+n[o]/2-d/2),n=u(e.instance.popper),c=parseFloat(n["margin"+r]),n=parseFloat(n["border"+r+"Width"]),r=i-e.offsets.popper[s]-c-n,r=M(W(a[o]-d,r),0);e.arrowElement=t,e.offsets.arrow=(A(i={},s,V(r)),A(i,l,""),i)}return e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(d,c){if(!(t(d.instance.modifiers,"inner")||d.flipped&&d.placement===d.originalPlacement)){var u=y(d.instance.popper,d.instance.reference,c.padding,c.boundariesElement,d.positionFixed),h=d.placement.split("-")[0],f=T(h),p=d.placement.split("-")[1]||"",m=[];switch(c.behavior){case X:m=[h,f];break;case G:m=B(h);break;case ee:m=B(h,!0);break;default:m=c.behavior}m.forEach(function(e,t){if(h!==e||m.length===t+1)return d;h=d.placement.split("-")[0],f=T(h);var e=d.offsets.popper,i=d.offsets.reference,n=P,i="left"===h&&n(e.right)>n(i.left)||"right"===h&&n(e.left)<n(i.right)||"top"===h&&n(e.bottom)>n(i.top)||"bottom"===h&&n(e.top)<n(i.bottom),a=n(e.left)<n(u.left),o=n(e.right)>n(u.right),r=n(e.top)<n(u.top),e=n(e.bottom)>n(u.bottom),n="left"===h&&a||"right"===h&&o||"top"===h&&r||"bottom"===h&&e,s=-1!==["top","bottom"].indexOf(h),l=!!c.flipVariations&&(s&&"start"===p&&a||s&&"end"===p&&o||!s&&"start"===p&&r||!s&&"end"===p&&e),o=!!c.flipVariationsByContent&&(s&&"start"===p&&o||s&&"end"===p&&a||!s&&"start"===p&&e||!s&&"end"===p&&r),a=l||o;(i||n||a)&&(d.flipped=!0,(i||n)&&(h=m[t+1]),a&&(p="end"===(e=p)?"start":"start"===e?"end":e),d.placement=h+(p?"-"+p:""),d.offsets.popper=N({},d.offsets.popper,E(d.instance.popper,d.offsets.reference,d.placement)),d=S(d.instance.modifiers,d,"flip"))})}return d},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,a=n.popper,n=n.reference,o=-1!==["left","right"].indexOf(i),r=-1===["top","left"].indexOf(i);return a[o?"left":"top"]=n[i]-(r?a[o?"width":"height"]:0),e.placement=T(t),e.offsets.popper=v(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(R(e.instance.modifiers,"hide","preventOverflow")){var t=e.offsets.reference,i=k(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,a=e.offsets.popper,o=k(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var t=void 0===o?t.gpuAcceleration:o,o=f(e.instance.popper),r=_(o),a={position:a.position},s=z(e,window.devicePixelRatio<2||!K),i="bottom"===i?"top":"bottom",n="right"===n?"left":"right",l=x("transform"),d="bottom"==i?"HTML"===o.nodeName?-o.clientHeight+s.bottom:-r.height+s.bottom:s.top,o="right"==n?"HTML"===o.nodeName?-o.clientWidth+s.right:-r.width+s.right:s.left,s=(t&&l?(a[l]="translate3d("+o+"px, "+d+"px, 0)",a[i]=0,a[n]=0,a.willChange="transform"):(r="right"==n?-1:1,a[i]=d*("bottom"==i?-1:1),a[n]=o*r,a.willChange=i+", "+n),{"x-placement":e.placement});return e.attributes=N({},s,e.attributes),e.styles=N({},a,e.styles),e.arrowStyles=N({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return I(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1===i[e]?t.removeAttribute(e):t.setAttribute(e,i[e])}),e.arrowElement&&Object.keys(e.arrowStyles).length&&I(e.arrowElement,e.arrowStyles),e;var t,i},onLoad:function(e,t,i,n,a){a=C(a,t,e,i.positionFixed),a=s(i.placement,a,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",a),I(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,i){"use strict";function U(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=U(t),$=U(i);function j(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,i){t&&j(e.prototype,t),i&&j(e,i)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z="transitionend",u={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t,i=e.getAttribute("data-target");i&&"#"!==i||(i=(t=e.getAttribute("href"))&&"#"!==t?t.trim():"");try{return document.querySelector(i)?i:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=c.default(e).css("transition-duration"),e=c.default(e).css("transition-delay"),i=parseFloat(t),n=parseFloat(e);return i||n?(t=t.split(",")[0],e=e.split(",")[0],1e3*(parseFloat(t)+parseFloat(e))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){c.default(e).trigger(z)},supportsTransitionEnd:function(){return Boolean(z)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=i[n],o=t[n],o=o&&u.isElement(o)?"element":null==(o=o)?""+o:{}.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(o))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+o+'" but expected type "'+a+'".')}},findShadowRoot:function(e){return document.documentElement.attachShadow?"function"==typeof e.getRootNode?(t=e.getRootNode())instanceof ShadowRoot?t:null:e instanceof ShadowRoot?e:e.parentNode?u.findShadowRoot(e.parentNode):null:null;var t},jQueryDetection:function(){if(void 0===c.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=c.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}},R=(u.jQueryDetection(),c.default.fn.emulateTransitionEnd=function(e){var t=this,i=!1;return c.default(this).one(u.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||u.triggerTransitionEnd(t)},e),this},c.default.event.special[u.TRANSITION_END]={bindType:z,delegateType:z,handle:function(e){if(c.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},"bs.alert"),B=c.default.fn.alert,a=((t=r.prototype).close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){c.default.removeData(this._element,R),this._element=null},t._getRootElement=function(e){var t=u.getSelectorFromElement(e),i=!1;return i=(i=t?document.querySelector(t):i)||c.default(e).closest(".alert")[0]},t._triggerCloseEvent=function(e){var t=c.default.Event("close.bs.alert");return c.default(e).trigger(t),t},t._removeElement=function(t){var e,i=this;c.default(t).removeClass("show"),c.default(t).hasClass("fade")?(e=u.getTransitionDurationFromElement(t),c.default(t).one(u.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},t._destroyElement=function(e){c.default(e).detach().trigger("closed.bs.alert").remove()},r._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(R);t||(t=new r(this),e.data(R,t)),"close"===i&&t[i](this)})},r._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},n(r,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),r);function r(e){this._element=e}c.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',a._handleDismiss(new a)),c.default.fn.alert=a._jQueryInterface,c.default.fn.alert.Constructor=a,c.default.fn.alert.noConflict=function(){return c.default.fn.alert=B,a._jQueryInterface};var H="bs.button",W=c.default.fn.button,l="active",i='[data-toggle^="button"]',V='input:not([type="hidden"])',s=((t=d.prototype).toggle=function(){var e,t=!0,i=!0,n=c.default(this._element).closest('[data-toggle="buttons"]')[0];n&&(e=this._element.querySelector(V))&&("radio"===e.type&&(e.checked&&this._element.classList.contains(l)?t=!1:(n=n.querySelector(".active"))&&c.default(n).removeClass(l)),t&&("checkbox"!==e.type&&"radio"!==e.type||(e.checked=!this._element.classList.contains(l)),this.shouldAvoidTriggerChange||c.default(e).trigger("change")),e.focus(),i=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(l)),t&&c.default(this._element).toggleClass(l))},t.dispose=function(){c.default.removeData(this._element,H),this._element=null},d._jQueryInterface=function(i,n){return this.each(function(){var e=c.default(this),t=e.data(H);t||(t=new d(this),e.data(H,t)),t.shouldAvoidTriggerChange=n,"toggle"===i&&t[i]()})},n(d,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),d);function d(e){this._element=e,this.shouldAvoidTriggerChange=!1}c.default(document).on("click.bs.button.data-api",i,function(e){var t,i=e.target,n=i;!(i=c.default(i).hasClass("btn")?i:c.default(i).closest(".btn")[0])||i.hasAttribute("disabled")||i.classList.contains("disabled")||(t=i.querySelector(V))&&(t.hasAttribute("disabled")||t.classList.contains("disabled"))?e.preventDefault():"INPUT"!==n.tagName&&"LABEL"===i.tagName||s._jQueryInterface.call(c.default(i),"toggle","INPUT"===n.tagName)}).on("focus.bs.button.data-api blur.bs.button.data-api",i,function(e){var t=c.default(e.target).closest(".btn")[0];c.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),c.default(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,i=e.length;t<i;t++){var n=e[t],a=n.querySelector(V);a.checked||a.hasAttribute("checked")?n.classList.add(l):n.classList.remove(l)}for(var o=0,r=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<r;o++){var s=e[o];"true"===s.getAttribute("aria-pressed")?s.classList.add(l):s.classList.remove(l)}}),c.default.fn.button=s._jQueryInterface,c.default.fn.button.Constructor=s,c.default.fn.button.noConflict=function(){return c.default.fn.button=W,s._jQueryInterface};var h="carousel",q="bs.carousel",Y=c.default.fn[h],f="active",Z="next",Q="prev",K="slid.bs.carousel",J=".active.carousel-item",X={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},G={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ee={TOUCH:"touch",PEN:"pen"},p=((t=m.prototype).next=function(){this._isSliding||this._slide(Z)},t.nextWhenVisible=function(){var e=c.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(Q)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this,i=(this._activeElement=this._element.querySelector(J),this._getItemIndex(this._activeElement));e>this._items.length-1||e<0||(this._isSliding?c.default(this._element).one(K,function(){return t.to(e)}):i===e?(this.pause(),this.cycle()):this._slide(i<e?Z:Q,this._items[e]))},t.dispose=function(){c.default(this._element).off(".bs.carousel"),c.default.removeData(this._element,q),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=o({},X,e),u.typeCheckConfig(h,e,G),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);e<=40||(e=e/this.touchDeltaX,(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next())},t._addEventListeners=function(){var t=this;this._config.keyboard&&c.default(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&c.default(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e,t,i=this;this._touchSupported&&(e=function(e){i._pointerEvent&&ee[e.originalEvent.pointerType.toUpperCase()]?i.touchStartX=e.originalEvent.clientX:i._pointerEvent||(i.touchStartX=e.originalEvent.touches[0].clientX)},t=function(e){i._pointerEvent&&ee[e.originalEvent.pointerType.toUpperCase()]&&(i.touchDeltaX=e.originalEvent.clientX-i.touchStartX),i._handleSwipe(),"hover"===i._config.pause&&(i.pause(),i.touchTimeout&&clearTimeout(i.touchTimeout),i.touchTimeout=setTimeout(function(e){return i.cycle(e)},500+i._config.interval))},c.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(c.default(this._element).on("pointerdown.bs.carousel",e),c.default(this._element).on("pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(c.default(this._element).on("touchstart.bs.carousel",e),c.default(this._element).on("touchmove.bs.carousel",function(e){i.touchDeltaX=e.originalEvent.touches&&1<e.originalEvent.touches.length?0:e.originalEvent.touches[0].clientX-i.touchStartX}),c.default(this._element).on("touchend.bs.carousel",t)))},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var i=e===Z,n=e===Q,a=this._getItemIndex(t),o=this._items.length-1;if((n&&0===a||i&&a===o)&&!this._config.wrap)return t;n=(a+(e===Q?-1:1))%this._items.length;return-1==n?this._items[this._items.length-1]:this._items[n]},t._triggerSlideEvent=function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(this._element.querySelector(J)),e=c.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:n,to:i});return c.default(this._element).trigger(e),e},t._setActiveIndicatorElement=function(e){var t;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),c.default(t).removeClass(f),(t=this._indicatorsElement.children[this._getItemIndex(e)])&&c.default(t).addClass(f))},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(J);e&&((e=parseInt(e.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval)},t._slide=function(e,t){var i,n,a,o=this,r=this._element.querySelector(J),s=this._getItemIndex(r),l=t||r&&this._getItemByDirection(e,r),t=this._getItemIndex(l),d=Boolean(this._interval),e=e===Z?(i="carousel-item-left",n="carousel-item-next","left"):(i="carousel-item-right",n="carousel-item-prev","right");l&&c.default(l).hasClass(f)?this._isSliding=!1:!this._triggerSlideEvent(l,e).isDefaultPrevented()&&r&&l&&(this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l,a=c.default.Event(K,{relatedTarget:l,direction:e,from:s,to:t}),c.default(this._element).hasClass("slide")?(c.default(l).addClass(n),u.reflow(l),c.default(r).addClass(i),c.default(l).addClass(i),e=u.getTransitionDurationFromElement(r),c.default(r).one(u.TRANSITION_END,function(){c.default(l).removeClass(i+" "+n).addClass(f),c.default(r).removeClass("active "+n+" "+i),o._isSliding=!1,setTimeout(function(){return c.default(o._element).trigger(a)},0)}).emulateTransitionEnd(e)):(c.default(r).removeClass(f),c.default(l).addClass(f),this._isSliding=!1,c.default(this._element).trigger(a)),d&&this.cycle())},m._jQueryInterface=function(n){return this.each(function(){var e=c.default(this).data(q),t=o({},X,c.default(this).data()),i=("object"==typeof n&&(t=o({},t,n)),"string"==typeof n?n:t.slide);if(e||(e=new m(this,t),c.default(this).data(q,e)),"number"==typeof n)e.to(n);else if("string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},m._dataApiClickHandler=function(e){var t,i,n=u.getSelectorFromElement(this);n&&(n=c.default(n)[0])&&c.default(n).hasClass("carousel")&&(t=o({},c.default(n).data(),c.default(this).data()),(i=this.getAttribute("data-slide-to"))&&(t.interval=!1),m._jQueryInterface.call(c.default(n),t),i&&c.default(n).data(q).to(i),e.preventDefault())},n(m,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return X}}]),m);function m(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}c.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",p._dataApiClickHandler),c.default(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,i=e.length;t<i;t++){var n=c.default(e[t]);p._jQueryInterface.call(n,n.data())}}),c.default.fn[h]=p._jQueryInterface,c.default.fn[h].Constructor=p,c.default.fn[h].noConflict=function(){return c.default.fn[h]=Y,p._jQueryInterface};var g="collapse",v="bs.collapse",te=c.default.fn[g],_="show",ie="collapse",ne="collapsing",ae="collapsed",oe='[data-toggle="collapse"]',re={toggle:!0,parent:""},se={toggle:"boolean",parent:"(string|element)"},w=((i=b.prototype).toggle=function(){c.default(this._element).hasClass(_)?this.hide():this.show()},i.show=function(){var e,t,i,n,a=this;this._isTransitioning||c.default(this._element).hasClass(_)||(e=this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof a._config.parent?e.getAttribute("data-parent")===a._config.parent:e.classList.contains(ie)})).length?null:e)&&(n=c.default(e).not(this._selector).data(v))&&n._isTransitioning||(i=c.default.Event("show.bs.collapse"),c.default(this._element).trigger(i),i.isDefaultPrevented()||(e&&(b._jQueryInterface.call(c.default(e).not(this._selector),"hide"),n||c.default(e).data(v,null)),t=this._getDimension(),c.default(this._element).removeClass(ie).addClass(ne),this._element.style[t]=0,this._triggerArray.length&&c.default(this._triggerArray).removeClass(ae).attr("aria-expanded",!0),this.setTransitioning(!0),i="scroll"+(t[0].toUpperCase()+t.slice(1)),n=u.getTransitionDurationFromElement(this._element),c.default(this._element).one(u.TRANSITION_END,function(){c.default(a._element).removeClass(ne).addClass("collapse show"),a._element.style[t]="",a.setTransitioning(!1),c.default(a._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(n),this._element.style[t]=this._element[i]+"px"))},i.hide=function(){var e=this;if(!this._isTransitioning&&c.default(this._element).hasClass(_)){var t=c.default.Event("hide.bs.collapse");if(c.default(this._element).trigger(t),!t.isDefaultPrevented()){var t=this._getDimension(),i=(this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",u.reflow(this._element),c.default(this._element).addClass(ne).removeClass("collapse show"),this._triggerArray.length);if(0<i)for(var n=0;n<i;n++){var a=this._triggerArray[n],o=u.getSelectorFromElement(a);null===o||c.default([].slice.call(document.querySelectorAll(o))).hasClass(_)||c.default(a).addClass(ae).attr("aria-expanded",!1)}this.setTransitioning(!0),this._element.style[t]="";t=u.getTransitionDurationFromElement(this._element);c.default(this._element).one(u.TRANSITION_END,function(){e.setTransitioning(!1),c.default(e._element).removeClass(ne).addClass(ie).trigger("hidden.bs.collapse")}).emulateTransitionEnd(t)}}},i.setTransitioning=function(e){this._isTransitioning=e},i.dispose=function(){c.default.removeData(this._element,v),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},i._getConfig=function(e){return(e=o({},re,e)).toggle=Boolean(e.toggle),u.typeCheckConfig(g,e,se),e},i._getDimension=function(){return c.default(this._element).hasClass("width")?"width":"height"},i._getParent=function(){var e,i=this,t=(u.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent),'[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'),t=[].slice.call(e.querySelectorAll(t));return c.default(t).each(function(e,t){i._addAriaAndCollapsedClass(b._getTargetFromElement(t),[t])}),e},i._addAriaAndCollapsedClass=function(e,t){e=c.default(e).hasClass(_);t.length&&c.default(t).toggleClass(ae,!e).attr("aria-expanded",e)},b._getTargetFromElement=function(e){e=u.getSelectorFromElement(e);return e?document.querySelector(e):null},b._jQueryInterface=function(n){return this.each(function(){var e=c.default(this),t=e.data(v),i=o({},re,e.data(),"object"==typeof n&&n?n:{});if(!t&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),t||(t=new b(this,i),e.data(v,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},n(b,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return re}}]),b);function b(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(oe)),n=0,a=i.length;n<a;n++){var o=i[n],r=u.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(r)).filter(function(e){return e===t});null!==r&&0<s.length&&(this._selector=r,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}c.default(document).on("click.bs.collapse.data-api",oe,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=c.default(this),e=u.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(e));c.default(e).each(function(){var e=c.default(this),t=e.data(v)?"toggle":i.data();w._jQueryInterface.call(e,t)})}),c.default.fn[g]=w._jQueryInterface,c.default.fn[g].Constructor=w,c.default.fn[g].noConflict=function(){return c.default.fn[g]=te,w._jQueryInterface};var y="dropdown",le="bs.dropdown",de=c.default.fn[y],ce=new RegExp("38|40|27"),ue="disabled",C="show",he="dropdown-menu-right",fe="hide.bs.dropdown",pe="hidden.bs.dropdown",t="click.bs.dropdown.data-api",i="keydown.bs.dropdown.data-api",me='[data-toggle="dropdown"]',ge=".dropdown-menu",ve={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},_e={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},D=((O=T.prototype).toggle=function(){var e;this._element.disabled||c.default(this._element).hasClass(ue)||(e=c.default(this._menu).hasClass(C),T._clearMenus(),e||this.show(!0))},O.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||c.default(this._element).hasClass(ue)||c.default(this._menu).hasClass(C))){var t={relatedTarget:this._element},i=c.default.Event("show.bs.dropdown",t),n=T._getParentFromElement(this._element);if(c.default(n).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===$.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");i=this._element;"parent"===this._config.reference?i=n:u.isElement(this._config.reference)&&(i=this._config.reference,void 0!==this._config.reference.jquery&&(i=this._config.reference[0])),"scrollParent"!==this._config.boundary&&c.default(n).addClass("position-static"),this._popper=new $.default(i,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===c.default(n).closest(".navbar-nav").length&&c.default(document.body).children().on("mouseover",null,c.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),c.default(this._menu).toggleClass(C),c.default(n).toggleClass(C).trigger(c.default.Event("shown.bs.dropdown",t))}}},O.hide=function(){var e,t,i;this._element.disabled||c.default(this._element).hasClass(ue)||!c.default(this._menu).hasClass(C)||(e={relatedTarget:this._element},t=c.default.Event(fe,e),i=T._getParentFromElement(this._element),c.default(i).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),c.default(this._menu).toggleClass(C),c.default(i).toggleClass(C).trigger(c.default.Event(pe,e))))},O.dispose=function(){c.default.removeData(this._element,le),c.default(this._element).off(".bs.dropdown"),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},O.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},O._addEventListeners=function(){var t=this;c.default(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},O._getConfig=function(e){return e=o({},this.constructor.Default,c.default(this._element).data(),e),u.typeCheckConfig(y,e,this.constructor.DefaultType),e},O._getMenuElement=function(){var e;return this._menu||(e=T._getParentFromElement(this._element))&&(this._menu=e.querySelector(ge)),this._menu},O._getPlacement=function(){var e=c.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=c.default(this._menu).hasClass(he)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":c.default(this._menu).hasClass(he)&&(t="bottom-end"),t},O._detectNavbar=function(){return 0<c.default(this._element).closest(".navbar").length},O._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets,t._element)),e}:e.offset=this._config.offset,e},O._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),o({},e,this._config.popperConfig)},T._jQueryInterface=function(t){return this.each(function(){var e=c.default(this).data(le);if(e||(e=new T(this,"object"==typeof t?t:null),c.default(this).data(le,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},T._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(me)),i=0,n=t.length;i<n;i++){var a,o,r=T._getParentFromElement(t[i]),s=c.default(t[i]).data(le),l={relatedTarget:t[i]};e&&"click"===e.type&&(l.clickEvent=e),s&&(a=s._menu,!c.default(r).hasClass(C)||e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&c.default.contains(r,e.target)||(o=c.default.Event(fe,l),c.default(r).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),t[i].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),c.default(a).removeClass(C),c.default(r).removeClass(C).trigger(c.default.Event(pe,l)))))}},T._getParentFromElement=function(e){var t,i=u.getSelectorFromElement(e);return(t=i?document.querySelector(i):t)||e.parentNode},T._dataApiKeydownHandler=function(e){var t,i,n;(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||c.default(e.target).closest(ge).length):!ce.test(e.which))||this.disabled||c.default(this).hasClass(ue)||(t=T._getParentFromElement(this),!(i=c.default(t).hasClass(C))&&27===e.which||(e.preventDefault(),e.stopPropagation(),i&&27!==e.which&&32!==e.which?0!==(i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return c.default(e).is(":visible")})).length&&(n=i.indexOf(e.target),38===e.which&&0<n&&n--,40===e.which&&n<i.length-1&&n++,i[n=n<0?0:n].focus()):(27===e.which&&c.default(t.querySelector(me)).trigger("focus"),c.default(this).trigger("click"))))},n(T,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return ve}},{key:"DefaultType",get:function(){return _e}}]),T);function T(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}c.default(document).on(i,me,D._dataApiKeydownHandler).on(i,ge,D._dataApiKeydownHandler).on(t+" keyup.bs.dropdown.data-api",D._clearMenus).on(t,me,function(e){e.preventDefault(),e.stopPropagation(),D._jQueryInterface.call(c.default(this),"toggle")}).on(t,".dropdown form",function(e){e.stopPropagation()}),c.default.fn[y]=D._jQueryInterface,c.default.fn[y].Constructor=D,c.default.fn[y].noConflict=function(){return c.default.fn[y]=de,D._jQueryInterface};var we="bs.modal",be=c.default.fn.modal,ye="modal-open",E="fade",Ce="show",De="modal-static",Te="hidden.bs.modal",Ee="show.bs.modal",ke="focusin.bs.modal",Se="resize.bs.modal",xe="click.dismiss.bs.modal",Fe="keydown.dismiss.bs.modal",Ie="mousedown.dismiss.bs.modal",Ae=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pe={backdrop:!0,keyboard:!0,focus:!0,show:!0},Me={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},k=((O=S.prototype).toggle=function(e){return this._isShown?this.hide():this.show(e)},O.show=function(e){var t,i=this;this._isShown||this._isTransitioning||(t=c.default.Event(Ee,{relatedTarget:e}),c.default(this._element).trigger(t),t.isDefaultPrevented()||(this._isShown=!0,c.default(this._element).hasClass(E)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),c.default(this._element).on(xe,'[data-dismiss="modal"]',function(e){return i.hide(e)}),c.default(this._dialog).on(Ie,function(){c.default(i._element).one("mouseup.dismiss.bs.modal",function(e){c.default(e.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(e)})))},O.hide=function(e){var t=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(e=c.default.Event("hide.bs.modal"),c.default(this._element).trigger(e),this._isShown&&!e.isDefaultPrevented()&&(this._isShown=!1,(e=c.default(this._element).hasClass(E))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),c.default(document).off(ke),c.default(this._element).removeClass(Ce),c.default(this._element).off(xe),c.default(this._dialog).off(Ie),e?(e=u.getTransitionDurationFromElement(this._element),c.default(this._element).one(u.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(e)):this._hideModal()))},O.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return c.default(e).off(".bs.modal")}),c.default(document).off(ke),c.default.removeData(this._element,we),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},O.handleUpdate=function(){this._adjustDialog()},O._getConfig=function(e){return e=o({},Pe,e),u.typeCheckConfig("modal",e,Me),e},O._triggerBackdropTransition=function(){var e,t,i=this,n=c.default.Event("hidePrevented.bs.modal");c.default(this._element).trigger(n),n.isDefaultPrevented()||((e=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add(De),t=u.getTransitionDurationFromElement(this._dialog),c.default(this._element).off(u.TRANSITION_END),c.default(this._element).one(u.TRANSITION_END,function(){i._element.classList.remove(De),e||c.default(i._element).one(u.TRANSITION_END,function(){i._element.style.overflowY=""}).emulateTransitionEnd(i._element,t)}).emulateTransitionEnd(t),this._element.focus())},O._showElement=function(e){function t(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,c.default(i._element).trigger(o)}var i=this,n=c.default(this._element).hasClass(E),a=this._dialog?this._dialog.querySelector(".modal-body"):null,o=(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),c.default(this._dialog).hasClass("modal-dialog-scrollable")&&a?a.scrollTop=0:this._element.scrollTop=0,n&&u.reflow(this._element),c.default(this._element).addClass(Ce),this._config.focus&&this._enforceFocus(),c.default.Event("shown.bs.modal",{relatedTarget:e}));n?(a=u.getTransitionDurationFromElement(this._dialog),c.default(this._dialog).one(u.TRANSITION_END,t).emulateTransitionEnd(a)):t()},O._enforceFocus=function(){var t=this;c.default(document).off(ke).on(ke,function(e){document!==e.target&&t._element!==e.target&&0===c.default(t._element).has(e.target).length&&t._element.focus()})},O._setEscapeEvent=function(){var t=this;this._isShown?c.default(this._element).on(Fe,function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||c.default(this._element).off(Fe)},O._setResizeEvent=function(){var t=this;this._isShown?c.default(window).on(Se,function(e){return t.handleUpdate(e)}):c.default(window).off(Se)},O._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){c.default(document.body).removeClass(ye),e._resetAdjustments(),e._resetScrollbar(),c.default(e._element).trigger(Te)})},O._removeBackdrop=function(){this._backdrop&&(c.default(this._backdrop).remove(),this._backdrop=null)},O._showBackdrop=function(e){var t,i=this,n=c.default(this._element).hasClass(E)?E:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),c.default(this._backdrop).appendTo(document.body),c.default(this._element).on(xe,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._triggerBackdropTransition():i.hide())}),n&&u.reflow(this._backdrop),c.default(this._backdrop).addClass(Ce),e&&(n?(n=u.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(u.TRANSITION_END,e).emulateTransitionEnd(n)):e())):!this._isShown&&this._backdrop?(c.default(this._backdrop).removeClass(Ce),n=function(){i._removeBackdrop(),e&&e()},c.default(this._element).hasClass(E)?(t=u.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(u.TRANSITION_END,n).emulateTransitionEnd(t)):n()):e&&e()},O._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},O._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},O._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},O._setScrollbar=function(){var e,t,a=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(Ae)),t=[].slice.call(document.querySelectorAll(".sticky-top")),c.default(e).each(function(e,t){var i=t.style.paddingRight,n=c.default(t).css("padding-right");c.default(t).data("padding-right",i).css("padding-right",parseFloat(n)+a._scrollbarWidth+"px")}),c.default(t).each(function(e,t){var i=t.style.marginRight,n=c.default(t).css("margin-right");c.default(t).data("margin-right",i).css("margin-right",parseFloat(n)-a._scrollbarWidth+"px")}),e=document.body.style.paddingRight,t=c.default(document.body).css("padding-right"),c.default(document.body).data("padding-right",e).css("padding-right",parseFloat(t)+this._scrollbarWidth+"px")),c.default(document.body).addClass(ye)},O._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Ae)),e=(c.default(e).each(function(e,t){var i=c.default(t).data("padding-right");c.default(t).removeData("padding-right"),t.style.paddingRight=i||""}),[].slice.call(document.querySelectorAll(".sticky-top"))),e=(c.default(e).each(function(e,t){var i=c.default(t).data("margin-right");void 0!==i&&c.default(t).css("margin-right",i).removeData("margin-right")}),c.default(document.body).data("padding-right"));c.default(document.body).removeData("padding-right"),document.body.style.paddingRight=e||""},O._getScrollbarWidth=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",document.body.appendChild(e),e.getBoundingClientRect().width-e.clientWidth);return document.body.removeChild(e),t},S._jQueryInterface=function(i,n){return this.each(function(){var e=c.default(this).data(we),t=o({},Pe,c.default(this).data(),"object"==typeof i&&i?i:{});if(e||(e=new S(this,t),c.default(this).data(we,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i](n)}else t.show&&e.show(n)})},n(S,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return Pe}}]),S);function S(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}c.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,i=this,n=u.getSelectorFromElement(this),n=(n&&(t=document.querySelector(n)),c.default(t).data(we)?"toggle":o({},c.default(t).data(),c.default(this).data())),a=("A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),c.default(t).one(Ee,function(e){e.isDefaultPrevented()||a.one(Te,function(){c.default(i).is(":visible")&&i.focus()})}));k._jQueryInterface.call(c.default(t),n,this)}),c.default.fn.modal=k._jQueryInterface,c.default.fn.modal.Constructor=k,c.default.fn.modal.noConflict=function(){return c.default.fn.modal=be,k._jQueryInterface};var Ne=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Oe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ue=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function $e(e,a,t){if(0===e.length)return e;if(t&&"function"==typeof t)return t(e);for(var t=(new window.DOMParser).parseFromString(e,"text/html"),o=Object.keys(a),r=[].slice.call(t.body.querySelectorAll("*")),i=0,n=r.length;i<n;i++)!function(e){var t=r[e],e=t.nodeName.toLowerCase();if(-1===o.indexOf(t.nodeName.toLowerCase()))return t.parentNode.removeChild(t);var i=[].slice.call(t.attributes),n=[].concat(a["*"]||[],a[e]||[]);i.forEach(function(e){!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==t.indexOf(i))return-1===Ne.indexOf(i)||Boolean(Oe.test(e.nodeValue)||Ue.test(e.nodeValue));for(var n=t.filter(function(e){return e instanceof RegExp}),a=0,o=n.length;a<o;a++)if(n[a].test(i))return 1}(e,n)&&t.removeAttribute(e.nodeName)})}(i);return t.body.innerHTML}var je="tooltip",Le="bs.tooltip",ze=c.default.fn.tooltip,Re=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Be=["sanitize","whiteList","sanitizeFn"],He="fade",We="show",x="show",Ve="hover",qe={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ye={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Ze={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Qe={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},F=((i=I.prototype).enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(e){var t,i;this._isEnabled&&(e?(t=this.constructor.DATA_KEY,(i=c.default(e.currentTarget).data(t))||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(t,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)):c.default(this.getTipElement()).hasClass(We)?this._leave(null,this):this._enter(null,this))},i.dispose=function(){clearTimeout(this._timeout),c.default.removeData(this.element,this.constructor.DATA_KEY),c.default(this.element).off(this.constructor.EVENT_KEY),c.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&c.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===c.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e,i,n=c.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(c.default(this.element).trigger(n),i=u.findShadowRoot(this.element),i=c.default.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element),!n.isDefaultPrevented()&&i&&(n=this.getTipElement(),i=u.getUID(this.constructor.NAME),n.setAttribute("id",i),this.element.setAttribute("aria-describedby",i),this.setContent(),this.config.animation&&c.default(n).addClass(He),i="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,i=this._getAttachment(i),this.addAttachmentClass(i),e=this._getContainer(),c.default(n).data(this.constructor.DATA_KEY,this),c.default.contains(this.element.ownerDocument.documentElement,this.tip)||c.default(n).appendTo(e),c.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new $.default(this.element,n,this._getPopperConfig(i)),c.default(n).addClass(We),c.default(n).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&c.default(document.body).children().on("mouseover",null,c.default.noop),e=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,c.default(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)},c.default(this.tip).hasClass(He)?(i=u.getTransitionDurationFromElement(this.tip),c.default(this.tip).one(u.TRANSITION_END,e).emulateTransitionEnd(i)):e()))},i.hide=function(e){function t(){i._hoverState!==x&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),c.default(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),e&&e()}var i=this,n=this.getTipElement(),a=c.default.Event(this.constructor.Event.HIDE);c.default(this.element).trigger(a),a.isDefaultPrevented()||(c.default(n).removeClass(We),"ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,c.default(this.tip).hasClass(He)?(a=u.getTransitionDurationFromElement(n),c.default(n).one(u.TRANSITION_END,t).emulateTransitionEnd(a)):t(),this._hoverState="")},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(e){c.default(this.getTipElement()).addClass("bs-tooltip-"+e)},i.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},i.setContent=function(){var e=this.getTipElement();this.setElementContent(c.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),c.default(e).removeClass("fade show")},i.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=$e(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?c.default(t).parent().is(e)||e.empty().append(t):e.text(c.default(t).text())},i.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},i._getPopperConfig=function(e){var t=this;return o({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t.config.offset(e.offsets,t.element)),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?c.default(this.config.container):c.default(document).find(this.config.container)},i._getAttachment=function(e){return qe[e.toUpperCase()]},i._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){var t;"click"===e?c.default(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)}):"manual"!==e&&(t=e===Ve?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,e=e===Ve?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT,c.default(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(e,i.config.selector,function(e){return i._leave(e)}))}),this._hideModalHandler=function(){i.element&&i.hide()},c.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(e,t){var i=this.constructor.DATA_KEY;(t=t||c.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":Ve]=!0),c.default(t.getTipElement()).hasClass(We)||t._hoverState===x?t._hoverState=x:(clearTimeout(t._timeout),t._hoverState=x,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===x&&t.show()},t.config.delay.show):t.show())},i._leave=function(e,t){var i=this.constructor.DATA_KEY;(t=t||c.default(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c.default(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":Ve]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},i._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},i._getConfig=function(e){var t=c.default(this.element).data();return Object.keys(t).forEach(function(e){-1!==Be.indexOf(e)&&delete t[e]}),"number"==typeof(e=o({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),u.typeCheckConfig(je,e,this.constructor.DefaultType),e.sanitize&&(e.template=$e(e.template,e.whiteList,e.sanitizeFn)),e},i._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},i._cleanTipClass=function(){var e=c.default(this.getTipElement()),t=e.attr("class").match(Re);null!==t&&t.length&&e.removeClass(t.join(""))},i._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},i._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(c.default(e).removeClass(He),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},I._jQueryInterface=function(n){return this.each(function(){var e=c.default(this),t=e.data(Le),i="object"==typeof n&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new I(this,i),e.data(Le,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},n(I,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return Ye}},{key:"NAME",get:function(){return je}},{key:"DATA_KEY",get:function(){return Le}},{key:"Event",get:function(){return Qe}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Ze}}]),I);function I(e,t){if(void 0===$.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}c.default.fn.tooltip=F._jQueryInterface,c.default.fn.tooltip.Constructor=F,c.default.fn.tooltip.noConflict=function(){return c.default.fn.tooltip=ze,F._jQueryInterface};var Ke,Je="bs.popover",Xe=c.default.fn.popover,Ge=new RegExp("(^|\\s)bs-popover\\S+","g"),et=o({},F.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),tt=o({},F.DefaultType,{content:"(string|element|function)"}),it={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},nt=(t=Ke=F,(O=A).prototype=Object.create(t.prototype),L(O.prototype.constructor=O,t),(O=A.prototype).isWithContent=function(){return this.getTitle()||this._getContent()},O.addAttachmentClass=function(e){c.default(this.getTipElement()).addClass("bs-popover-"+e)},O.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},O.setContent=function(){var e=c.default(this.getTipElement()),t=(this.setElementContent(e.find(".popover-header"),this.getTitle()),this._getContent());"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},O._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},O._cleanTipClass=function(){var e=c.default(this.getTipElement()),t=e.attr("class").match(Ge);null!==t&&0<t.length&&e.removeClass(t.join(""))},A._jQueryInterface=function(i){return this.each(function(){var e=c.default(this).data(Je),t="object"==typeof i?i:null;if((e||!/dispose|hide/.test(i))&&(e||(e=new A(this,t),c.default(this).data(Je,e)),"string"==typeof i)){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},n(A,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return et}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return Je}},{key:"Event",get:function(){return it}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return tt}}]),A);function A(){return Ke.apply(this,arguments)||this}c.default.fn.popover=nt._jQueryInterface,c.default.fn.popover.Constructor=nt,c.default.fn.popover.noConflict=function(){return c.default.fn.popover=Xe,nt._jQueryInterface};var P="scrollspy",at="bs.scrollspy",ot=c.default.fn[P],M="active",rt="position",st=".nav, .list-group",lt={offset:10,method:"auto",target:""},dt={offset:"number",method:"string",target:"(string|element)"},N=((i=ct.prototype).refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":rt,n="auto"===this._config.method?e:this._config.method,a=n===rt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,e=u.getSelectorFromElement(e);if(t=e?document.querySelector(e):t){var i=t.getBoundingClientRect();if(i.width||i.height)return[c.default(t)[n]().top+a,e]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},i.dispose=function(){c.default.removeData(this._element,at),c.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i._getConfig=function(e){var t;return"string"!=typeof(e=o({},lt,"object"==typeof e&&e?e:{})).target&&u.isElement(e.target)&&((t=c.default(e.target).attr("id"))||(t=u.getUID(P),c.default(e.target).attr("id",t)),e.target="#"+t),u.typeCheckConfig(P,e,dt),e},i._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},i._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},i._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),i<=e){t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(var n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(void 0===this._offsets[n+1]||e<this._offsets[n+1])&&this._activate(this._targets[n])},i._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),e=c.default([].slice.call(document.querySelectorAll(e.join(","))));e.hasClass("dropdown-item")?(e.closest(".dropdown").find(".dropdown-toggle").addClass(M),e.addClass(M)):(e.addClass(M),e.parents(st).prev(".nav-link, .list-group-item").addClass(M),e.parents(st).prev(".nav-item").children(".nav-link").addClass(M)),c.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},i._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(M)}).forEach(function(e){return e.classList.remove(M)})},ct._jQueryInterface=function(t){return this.each(function(){var e=c.default(this).data(at);if(e||(e=new ct(this,"object"==typeof t&&t),c.default(this).data(at,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},n(ct,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return lt}}]),ct);function ct(e,t){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,c.default(this._scrollElement).on("scroll.bs.scrollspy",function(e){return i._process(e)}),this.refresh(),this._process()}c.default(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var i=c.default(e[t]);N._jQueryInterface.call(i,i.data())}}),c.default.fn[P]=N._jQueryInterface,c.default.fn[P].Constructor=N,c.default.fn[P].noConflict=function(){return c.default.fn[P]=ot,N._jQueryInterface};var ut="bs.tab",ht=c.default.fn.tab,ft="active",pt=".active",mt="> li > .active",gt=((t=vt.prototype).show=function(){var e,t,i,n,a,o,r=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&c.default(this._element).hasClass(ft)||c.default(this._element).hasClass("disabled")||(t=c.default(this._element).closest(".nav, .list-group")[0],i=u.getSelectorFromElement(this._element),t&&(a="UL"===t.nodeName||"OL"===t.nodeName?mt:pt,n=(n=c.default.makeArray(c.default(t).find(a)))[n.length-1]),a=c.default.Event("hide.bs.tab",{relatedTarget:this._element}),o=c.default.Event("show.bs.tab",{relatedTarget:n}),n&&c.default(n).trigger(a),c.default(this._element).trigger(o),o.isDefaultPrevented()||a.isDefaultPrevented()||(i&&(e=document.querySelector(i)),this._activate(this._element,t),o=function(){var e=c.default.Event("hidden.bs.tab",{relatedTarget:r._element}),t=c.default.Event("shown.bs.tab",{relatedTarget:n});c.default(n).trigger(e),c.default(r._element).trigger(t)},e?this._activate(e,e.parentNode,o):o()))},t.dispose=function(){c.default.removeData(this._element,ut),this._element=null},t._activate=function(e,t,i){function n(){return a._transitionComplete(e,o,i)}var a=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?c.default(t).children(pt):c.default(t).find(mt))[0],t=i&&o&&c.default(o).hasClass("fade");o&&t?(t=u.getTransitionDurationFromElement(o),c.default(o).removeClass("show").one(u.TRANSITION_END,n).emulateTransitionEnd(t)):n()},t._transitionComplete=function(e,t,i){t&&(c.default(t).removeClass(ft),(n=c.default(t.parentNode).find("> .dropdown-menu .active")[0])&&c.default(n).removeClass(ft),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),c.default(e).addClass(ft),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),u.reflow(e),e.classList.contains("fade")&&e.classList.add("show");var n=e.parentNode;(n=n&&"LI"===n.nodeName?n.parentNode:n)&&c.default(n).hasClass("dropdown-menu")&&((t=c.default(e).closest(".dropdown")[0])&&(n=[].slice.call(t.querySelectorAll(".dropdown-toggle")),c.default(n).addClass(ft)),e.setAttribute("aria-expanded",!0)),i&&i()},vt._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(ut);if(t||(t=new vt(this),e.data(ut,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},n(vt,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),vt);function vt(e){this._element=e}c.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),gt._jQueryInterface.call(c.default(this),"show")}),c.default.fn.tab=gt._jQueryInterface,c.default.fn.tab.Constructor=gt,c.default.fn.tab.noConflict=function(){return c.default.fn.tab=ht,gt._jQueryInterface};var O,_t="bs.toast",wt=c.default.fn.toast,bt="show",yt="showing",Ct="click.dismiss.bs.toast",Dt={animation:!0,autohide:!0,delay:500},Tt={animation:"boolean",autohide:"boolean",delay:"number"},Et=((O=kt.prototype).show=function(){var e,t=this,i=c.default.Event("show.bs.toast");c.default(this._element).trigger(i),i.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),i=function(){t._element.classList.remove(yt),t._element.classList.add(bt),c.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))},this._element.classList.remove("hide"),u.reflow(this._element),this._element.classList.add(yt),this._config.animation?(e=u.getTransitionDurationFromElement(this._element),c.default(this._element).one(u.TRANSITION_END,i).emulateTransitionEnd(e)):i())},O.hide=function(){var e;this._element.classList.contains(bt)&&(e=c.default.Event("hide.bs.toast"),c.default(this._element).trigger(e),e.isDefaultPrevented()||this._close())},O.dispose=function(){this._clearTimeout(),this._element.classList.contains(bt)&&this._element.classList.remove(bt),c.default(this._element).off(Ct),c.default.removeData(this._element,_t),this._element=null,this._config=null},O._getConfig=function(e){return e=o({},Dt,c.default(this._element).data(),"object"==typeof e&&e?e:{}),u.typeCheckConfig("toast",e,this.constructor.DefaultType),e},O._setListeners=function(){var e=this;c.default(this._element).on(Ct,'[data-dismiss="toast"]',function(){return e.hide()})},O._close=function(){function e(){i._element.classList.add("hide"),c.default(i._element).trigger("hidden.bs.toast")}var t,i=this;this._element.classList.remove(bt),this._config.animation?(t=u.getTransitionDurationFromElement(this._element),c.default(this._element).one(u.TRANSITION_END,e).emulateTransitionEnd(t)):e()},O._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},kt._jQueryInterface=function(i){return this.each(function(){var e=c.default(this),t=e.data(_t);if(t||(t=new kt(this,"object"==typeof i&&i),e.data(_t,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i](this)}})},n(kt,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"DefaultType",get:function(){return Tt}},{key:"Default",get:function(){return Dt}}]),kt);function kt(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}c.default.fn.toast=Et._jQueryInterface,c.default.fn.toast.Constructor=Et,c.default.fn.toast.noConflict=function(){return c.default.fn.toast=wt,Et._jQueryInterface},e.Alert=a,e.Button=s,e.Carousel=p,e.Collapse=w,e.Dropdown=D,e.Modal=k,e.Popover=nt,e.Scrollspy=N,e.Tab=gt,e.Toast=Et,e.Tooltip=F,e.Util=u,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(y,C){function b(){return new Date(Date.UTC.apply(Date,arguments))}function D(){var e=new Date;return b(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function e(e,t){return function(){return t!==C&&y.fn.datepicker.deprecated(t),this[e].apply(this,arguments)}}function T(e,t){y.data(e,"datepicker",this),this._process_options(t),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=y(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=y(k.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()}function l(e,t){y.data(e,"datepicker",this),this.element=y(e),this.inputs=y.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,a.call(y(this.inputs),t).on("changeDate",y.proxy(this.dateUpdated,this)),this.pickers=y.map(this.inputs,function(e){return y.data(e,"datepicker")}),this.updateDates()}t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<864e5)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(y.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new i;return e.replace(this),e}};var t,i=function(){var e=[];return e.push.apply(e,arguments),y.extend(e,t),e},n=(T.prototype={constructor:T,_resolveViewName:function(i){return y.each(k.viewModes,function(e,t){if(i===e||-1!==y.inArray(i,t.names))return i=e,!1}),i},_resolveDaysOfWeek:function(e){return y.isArray(e)||(e=e.split(/[,\s]*/)),y.map(e,Number)},_check_template:function(e){try{return e===C||""===e?!1:(e.match(/[<>]/g)||[]).length<=0||0<y(e).length}catch(e){return!1}},_process_options:function(e){this._o=y.extend({},this._o,e);var t,i,n=this.o=y.extend({},this._o),e=n.language,a=(E[e]||(e=e.split("-")[0],E[e]||(e=d.language)),n.language=e,n.startView=this._resolveViewName(n.startView),n.minViewMode=this._resolveViewName(n.minViewMode),n.maxViewMode=this._resolveViewName(n.maxViewMode),n.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,n.startView)),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7,k.parseFormat(n.format)),o=(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=k.parseDate(n.startDate,a,n.language,n.assumeNearbyYear):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=k.parseDate(n.endDate,a,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=this._resolveDaysOfWeek(n.daysOfWeekDisabled||[]),n.daysOfWeekHighlighted=this._resolveDaysOfWeek(n.daysOfWeekHighlighted||[]),n.datesDisabled=n.datesDisabled||[],y.isArray(n.datesDisabled)||(n.datesDisabled=n.datesDisabled.split(",")),n.datesDisabled=y.map(n.datesDisabled,function(e){return k.parseDate(e,a,n.language,n.assumeNearbyYear)}),String(n.orientation).toLowerCase().split(/\s+/g)),e=n.orientation.toLowerCase(),o=y.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)});if(n.orientation={x:"auto",y:"auto"},e&&"auto"!==e)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else e=y.grep(o,function(e){return/^left|right$/.test(e)}),n.orientation.x=e[0]||"auto",e=y.grep(o,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=e[0]||"auto";n.defaultViewDate instanceof Date||"string"==typeof n.defaultViewDate?n.defaultViewDate=k.parseDate(n.defaultViewDate,a,n.language,n.assumeNearbyYear):n.defaultViewDate?(e=n.defaultViewDate.year||(new Date).getFullYear(),t=n.defaultViewDate.month||0,i=n.defaultViewDate.day||1,n.defaultViewDate=b(e,t,i)):n.defaultViewDate=D()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n,a=0;a<e.length;a++)t=e[a][0],2===e[a].length?(i=C,n=e[a][1]):3===e[a].length&&(i=e[a][1],n=e[a][2]),t.on(n,i)},_unapplyEvents:function(e){for(var t,i,n,a=0;a<e.length;a++)t=e[a][0],2===e[a].length?(n=C,i=e[a][1]):3===e[a].length&&(n=e[a][1],i=e[a][2]),t.off(i,n)},_buildEvents:function(){var e={keyup:y.proxy(function(e){-1===y.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:y.proxy(this.keydown,this),paste:y.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=y.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:y.proxy(this.show,this)}]]:this._events=[[this.element,{click:y.proxy(this.show,this),keydown:y.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:y.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:y.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":y.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:y.proxy(this.click,this)}],[this.picker,".prev, .next",{click:y.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:y.proxy(this.dayCellClick,this)}],[y(window),{resize:y.proxy(this.place,this)}],[y(document),{"mousedown touchstart":y.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){t=t||this.dates.get(-1),t=this._utc_to_local(t);this.element.trigger({type:e,date:t,viewMode:this.viewMode,dates:y.map(this.dates,this._utc_to_local),format:y.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return k.formatDate(i,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&y(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==y.inArray("text/plain",e.originalEvent.clipboardData.types))t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t=t.getTimezoneOffset()!==e.getTimezoneOffset()?new Date(e.getTime()+6e4*t.getTimezoneOffset()):t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&b(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return y.map(this.dates,this._utc_to_local)},getUTCDates:function(){return y.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==C?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=y.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=y.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,y.map(e,this._utc_to_local)),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===C&&(t=this.o.format);var i=this.o.language;return y.map(this.dates,function(e){return k.formatDate(e,t,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){var e,t,i,n,a,o,r,s,l,d,c;return this.isInline||(e=this.picker.outerWidth(),t=this.picker.outerHeight(),i=(d=y(this.o.container)).width(),n=("body"===this.o.container?y(document):d).scrollTop(),d=d.offset(),a=[0],this.element.parents().each(function(){var e=y(this).css("z-index");"auto"!==e&&0!==Number(e)&&a.push(Number(e))}),o=Math.max.apply(Math,a)+this.o.zIndexOffset,c=(this.component?this.component.parent():this.element).offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),s=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),l=c.left-d.left,d=c.top-d.top,"body"!==this.o.container&&(d+=n),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(l-=e-s)):c.left<0?(this.picker.addClass("datepicker-orient-left"),l-=c.left-10):i<l+e?(this.picker.addClass("datepicker-orient-right"),l+=s-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left"),"auto"===(c=this.o.orientation.y)&&(c=-n+d-t<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+c),"top"===c?d-=t+parseInt(this.picker.css("padding-top")):d+=r,this.o.rtl?this.picker.css({top:d,right:i-(l+s),zIndex:o}):this.picker.css({top:d,left:l,zIndex:o})),this},_allow_update:!0,update:function(){var e,i,t;return this._allow_update&&(e=this.dates.copy(),t=!(i=[]),arguments.length?(y.each(arguments,y.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),t=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=y.map(i,y.proxy(function(e){return k.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=y.grep(i,y.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),t?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&t&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill()),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',-1!==y.inArray(e,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+E[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;i++)t+='<span class="month'+(e&&e.getMonth()===i?" focused":"")+'">'+E[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=y.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=D();return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n?t.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&o(e,a)&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),-1!==y.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==y.inArray(e.valueOf(),this.range)&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(e,t,i,n,a,o,r){for(var s,l,d,c="",u=i/10,e=this.picker.find(e),h=Math.floor(n/i)*i,f=h+9*u,p=Math.floor(this.viewDate.getFullYear()/u)*u,m=y.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/u)*u}),g=h-u;g<=f+u;g+=u)s=[t],l=null,g===h-u?s.push("old"):g===f+u&&s.push("new"),-1!==y.inArray(g,m)&&s.push("active"),(g<a||o<g)&&s.push("disabled"),g===p&&s.push("focused"),r!==y.noop&&((d=r(new Date(g,0,1)))===C?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&s.push("disabled"),d.classes&&(s=s.concat(d.classes.split(/\s+/))),d.tooltip&&(l=d.tooltip)),c+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+g+"</span>";e.find(".datepicker-switch").text(h+"-"+f),e.find("td").html(c)},fill:function(){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),a=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=E[this.o.language].today||E.en.today||"",c=E[this.o.language].clear||E.en.clear||"",u=E[this.o.language].titleFormat||E.en.titleFormat;if(!isNaN(n)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(k.formatDate(i,u,this.o.language)),this.picker.find("tfoot .today").text(d).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var h=b(n,a,0),i=h.getUTCDate(),f=(h.setUTCDate(i-(h.getUTCDay()-this.o.weekStart+7)%7),new Date(h));h.getUTCFullYear()<100&&f.setUTCFullYear(h.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42);for(var f=f.valueOf(),p=[];h.valueOf()<f;){(g=h.getUTCDay())===this.o.weekStart&&(p.push("<tr>"),this.o.calendarWeeks)&&(m=new Date(+h+(this.o.weekStart-g-7)%7*864e5),m=new Date(Number(m)+(11-m.getUTCDay())%7*864e5),v=new Date(Number(v=b(m.getUTCFullYear(),0,1))+(11-v.getUTCDay())%7*864e5),p.push('<td class="cw">'+((m-v)/864e5/7+1)+"</td>")),(m=this.getClassNames(h)).push("day");var m,g,v=h.getUTCDate();this.o.beforeShowDay!==y.noop&&((t=this.o.beforeShowDay(this._utc_to_local(h)))===C?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1===t.enabled&&m.push("disabled"),t.classes&&(m=m.concat(t.classes.split(/\s+/))),t.tooltip&&(e=t.tooltip),t.content&&(v=t.content)),m=y.isFunction(y.uniqueSort)?y.uniqueSort(m):y.unique(m),p.push('<td class="'+m.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+h.getTime().toString()+'">'+v+"</td>"),e=null,g===this.o.weekEnd&&p.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(p.join(""));var _,u=E[this.o.language].monthsTitle||E.en.monthsTitle||"Months",w=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?u:n).end().find("tbody span").removeClass("active");y.each(this.dates,function(e,t){t.getUTCFullYear()===n&&w.eq(t.getUTCMonth()).addClass("active")}),(n<o||s<n)&&w.addClass("disabled"),n===o&&w.slice(0,r).addClass("disabled"),n===s&&w.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==y.noop&&(_=this,y.each(w,function(e,t){e=new Date(n,e,1),e=_.o.beforeShowMonth(e);e===C?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1!==e.enabled||y(t).hasClass("disabled")||y(t).addClass("disabled"),e.classes&&y(t).addClass(e.classes),e.tooltip&&y(t).prop("title",e.tooltip)})),this._fill_yearsView(".datepicker-years","year",10,n,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,n,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,n,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),a=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=1;switch(this.viewMode){case 4:d*=10;case 3:d*=10;case 2:d*=10;case 1:e=Math.floor(n/d)*d<o,t=Math.floor(n/d)*d+d>s;break;case 0:e=n<=o&&a<r,t=s<=n&&l<a}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(e){var t,i;e.preventDefault(),e.stopPropagation(),(e=y(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(D(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=e.parent().find("span").index(e),t=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,t=Number(e.text()),this.viewDate.setUTCFullYear(t)),this._trigger(k.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(b(t,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){e=y(e.currentTarget).data("date"),e=new Date(e);this.o.updateViewDate&&(e.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),e.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(e)},navArrowsClick:function(e){e=y(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*k.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(k.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!(i=e)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!t)return e;var n,a,o=new Date(e.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(t);if(t=0<t?1:-1,1===l)a=-1===t?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==n},n=s+t,o.setUTCMonth(n),n=(n+12)%12;else{for(var d=0;d<l;d++)o=this.moveMonth(o,t);n=o.getUTCMonth(),o.setUTCDate(r),a=function(){return n!==o.getUTCMonth()}}for(;a();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1}while(i="moveDay",this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==y.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||0<y.grep(this.o.datesDisabled,function(e){return o(t,e)}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,i,n=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(a,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(i=this.moveAvailableDate(a,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(a,t,"moveDay"):this.weekOfDateIsDisabled(a)||(i=this.moveAvailableDate(a,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(a,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(a,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+k.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}},l.prototype={updateDates:function(){this.dates=y.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=y.map(this.dates,function(e){return e.valueOf()});y.each(this.pickers,function(e,t){t.setRange(i)})},clearDates:function(){y.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=y.data(e.target,"datepicker");if(i!==C){var n=i.getUTCDate(),a=this.keepEmptyValues,e=y.inArray(e.target,this.inputs),t=e-1,o=e+1,r=this.inputs.length;if(-1!==e){if(y.each(this.pickers,function(e,t){t.getUTCDate()||t!==i&&a||t.setUTCDate(n)}),n<this.dates[t])for(;0<=t&&n<this.dates[t];)this.pickers[t--].setUTCDate(n);else if(n>this.dates[o])for(;o<r&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},destroy:function(){y.map(this.pickers,function(e){e.destroy()}),y(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")},y.fn.datepicker),a=function(o){var r,s=Array.apply(null,arguments);if(s.shift(),this.each(function(){var e,t,i=y(this),n=i.data("datepicker"),a="object"==typeof o&&o;n||(e=function(e,t){function i(e,t){return t.toLowerCase()}var n,a,o=y(e).data(),r={},s=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(a in t=new RegExp("^"+t.toLowerCase()),o)t.test(a)&&(n=a.replace(s,i),r[n]=o[a]);return r}(this,"date"),t=function(e){var i,n={};if(E[e]||(e=e.split("-")[0],E[e]))return i=E[e],y.each(c,function(e,t){t in i&&(n[t]=i[t])}),n}(y.extend({},d,e,a).language),t=y.extend({},d,t,e,a),n=i.hasClass("input-daterange")||t.inputs?(y.extend(t,{inputs:t.inputs||i.find("input").toArray()}),new l(this,t)):new T(this,t),i.data("datepicker",n)),"string"==typeof o&&"function"==typeof n[o]&&(r=n[o].apply(n,s))}),r===C||r instanceof T||r instanceof l)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return r},d=(y.fn.datepicker=a,y.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:y.noop,beforeShowMonth:y.noop,beforeShowYear:y.noop,beforeShowDecade:y.noop,beforeShowCentury:y.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0}),c=y.fn.datepicker.locale_opts=["format","rtl","weekStart"],E=(y.fn.datepicker.Constructor=T,y.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}}),k={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),e=e.match(this.validParts);if(t&&t.length&&e&&0!==e.length)return{separators:t,parts:e};throw new Error("Invalid date format.")},parseDate:function(e,t,i,n){function a(){var e=this.slice(0,h[w].length),t=h[w].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!e)return C;if(!(e instanceof Date)){if((t="string"==typeof t?k.parseFormat(t):t).toValue)return t.toValue(e,t,i);var o,r,s,l={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},d={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e=e in d?d[e]:e)){for(h=e.match(/([\-+]\d+)([dmwy])/gi),e=new Date,w=0;w<h.length;w++)o=h[w].match(/([\-+]\d+)([dmwy])/i),r=Number(o[1]),s=l[o[2].toLowerCase()],e=T.prototype[s](e,r);return T.prototype._zero_utc_time(e)}var c,u,h=e&&e.match(this.nonpunctuation)||[],f={},p=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(n?(!0===(e=n)&&(e=10),(i=t)<100&&((i+=2e3)>(new Date).getFullYear()+e&&(i-=100)),i):t);var i},m:function(e,t){if(!isNaN(e)){for(--t;t<0;)t+=12;for(e.setUTCMonth(t%=12);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,t){return e.setUTCDate(t)}},g=(m.yy=m.yyyy,m.M=m.MM=m.mm=m.m,m.dd=m.d,e=D(),t.parts.slice());if(h.length!==g.length&&(g=y(g).filter(function(e,t){return-1!==y.inArray(t,p)}).toArray()),h.length===g.length){for(var v,_,w=0,b=g.length;w<b;w++){if(c=parseInt(h[w],10),o=g[w],isNaN(c))switch(o){case"MM":u=y(E[i].months).filter(a),c=y.inArray(u[0],E[i].months)+1;break;case"M":u=y(E[i].monthsShort).filter(a),c=y.inArray(u[0],E[i].monthsShort)+1}f[o]=c}for(w=0;w<p.length;w++)(_=p[w])in f&&!isNaN(f[_])&&(v=new Date(e),m[_](v,f[_]),isNaN(v)||(e=v))}}return e},formatDate:function(e,t,i){if(!e)return"";if((t="string"==typeof t?k.parseFormat(t):t).toDisplay)return t.toDisplay(e,t,i);var n={d:e.getUTCDate(),D:E[i].daysShort[e.getUTCDay()],DD:E[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:E[i].monthsShort[e.getUTCMonth()],MM:E[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var a=y.extend([],t.separators),o=0,r=t.parts.length;o<=r;o++)a.length&&e.push(a.shift()),e.push(n[t.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+d.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+d.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};k.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+k.headTemplate+"<tbody></tbody>"+k.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table></div></div>",y.fn.datepicker.DPGlobal=k,y.fn.datepicker.noConflict=function(){return y.fn.datepicker=n,this},y.fn.datepicker.version="1.8.0",y.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},y(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=y(this);t.data("datepicker")||(e.preventDefault(),a.call(t,"show"))}),y(function(){a.call(y('[data-provide="datepicker-inline"]'))})}),jQuery.fn.datepicker.dates.fr={days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Löschen",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",monthsTitle:"Meses",clear:"Borrar",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.it={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",monthsTitle:"Mesi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.nl={days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],daysShort:["zo","ma","di","wo","do","vr","za"],daysMin:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],today:"Vandaag",monthsTitle:"Maanden",clear:"Wissen",weekStart:1,format:"dd-mm-yyyy"},jQuery.fn.datepicker.dates.pt={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"},ko.bindingHandlers.date={init:function(t,i){$(t).datepicker().on("change",function(){var e=t.getDate();i()(e)})}},$(function(){function e(){$(".date").each(function(){var e,t;this._datePicker||(e=$(this),e=e[0],(t=$(e)).find("input")[0].getDate=function(){var e=t.datepicker("getDate");return e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null},this._datePicker=!0)})}$.fn.datepicker.defaults.autoclose=!0,e(),$(document).ajaxComplete(e)}),$(function(){$(document).tooltip({selector:"[data-toggle=tooltip]"}),isMobile.apple.device&&$("body").css("cursor","pointer")}),function(e){function i(e,t){return e.test(t)}function t(e){var t=(e=e||navigator.userAgent).split("[FBAN");if(void 0!==(t=(e=void 0!==t[1]?t[0]:e).split("Twitter"))[1]&&(e=t[0]),this.apple={phone:i(a,e),ipod:i(o,e),tablet:!i(a,e)&&i(r,e),device:i(a,e)||i(o,e)||i(r,e)},this.amazon={phone:i(d,e),tablet:!i(d,e)&&i(c,e),device:i(d,e)||i(c,e)},this.android={phone:i(d,e)||i(s,e),tablet:!i(d,e)&&!i(s,e)&&(i(c,e)||i(l,e)),device:i(d,e)||i(c,e)||i(s,e)||i(l,e)},this.windows={phone:i(u,e),tablet:i(h,e),device:i(u,e)||i(h,e)},this.other={blackberry:i(f,e),blackberry10:i(p,e),opera:i(m,e),firefox:i(v,e),chrome:i(g,e),device:i(f,e)||i(p,e)||i(m,e)||i(v,e)||i(g,e)},this.seven_inch=i(_,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this}function n(){var e=new t;return e.Class=t,e}var a=/iPhone/i,o=/iPod/i,r=/iPad/i,s=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,l=/Android/i,d=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,u=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,v=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i");"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=t:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=n():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=n()):e.isMobile=n()}(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(M){"use strict";var a,i,e,N,O,o,m,v,n,r,s,l,_,t,d,c,u,h,f,p,g,w,U,$,j,L,b,y,C,D,T,E,k,S,x;M.fn.fileinputLocales={},M.fn.fileinputThemes={},a=".fileinput",i="kvFileinputModal",e='style="width:{width};height:{height};"',N=window.URL||window.webkitURL,O=function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},o=function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",e=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),e},m=function(e,t,i,n){n=n?t:t.split(" ").join(a+" ")+a;e.off(n).on(n,i)},v={data:{},init:function(s){var e=s.initialPreview,t=s.id;0<e.length&&!j(e)&&(e=e.split(s.initialPreviewDelimiter)),v.data[t]={content:e,config:s.initialPreviewConfig,tags:s.initialPreviewThumbTags,delimiter:s.initialPreviewDelimiter,previewFileType:s.initialPreviewFileType,previewAsData:s.initialPreviewAsData,template:s.previewGenericTemplate,showZoom:s.fileActionSettings.showZoom,showDrag:s.fileActionSettings.showDrag,getSize:function(e){return s._getSize(e)},parseTemplate:function(e,t,i,n,a,o,r){return s._generatePreviewTemplate(e,t,i,n,a,!1,null," file-preview-initial",o,r)},msg:function(e){return s._getMsgSelected(e)},initId:s.previewInitId,footer:s._getLayoutTemplate("footer").replace(/\{progress}/g,s._renderThumbProgress()),isDelete:s.initialPreviewShowDelete,caption:s.initialCaption,actions:function(e,t,i,n,a,o,r){return s._renderFileActions(e,t,i,n,a,o,r,!0)}}},fetch:function(e){return v.data[e].content.filter(function(e){return null!==e})},count:function(e,t){return v.data[e]&&v.data[e].content?(t?v.data[e].content:v.fetch(e)).length:0},get:function(e,t,i){var n,a,o,r="init_"+t,s=v.data[e],l=s.config[t],d=s.content[t],c=s.initId+"-"+r,u=" file-preview-initial",h=L("previewAsData",l,s.previewAsData);return i=void 0===i||i,d?(l&&l.frameClass&&(u+=" "+l.frameClass),h=h?(h=s.previewAsData?L("type",l,s.previewFileType||"generic"):"generic",n=L("caption",l),a=v.footer(e,t,i,l&&l.size||null),o=L("filetype",l,h),s.parseTemplate(h,d,n,o,c,a,r,null)):s.template.replace(/\{previewId}/g,c).replace(/\{frameClass}/g,u).replace(/\{fileindex}/g,r).replace(/\{content}/g,s.content[t]).replace(/\{template}/g,L("type",l,s.previewFileType)).replace(/\{footer}/g,v.footer(e,t,i,l&&l.size||null)),s.tags.length&&s.tags[t]&&(h=C(h,s.tags[t])),$(l)||$(l.frameAttr)||((d=M(document.createElement("div")).html(h)).find(".file-preview-initial").attr(l.frameAttr),h=d.html(),d.remove()),h):""},add:function(e,t,i,n,a){var o,r=M.extend(!0,{},v.data[e]);return j(t)||(t=t.split(r.delimiter)),a?(o=r.content.push(t)-1,r.config[o]=i,r.tags[o]=n):(o=t.length-1,r.content=t,r.config=i,r.tags=n),v.data[e]=r,o},set:function(e,t,i,n,a){var o,r=M.extend(!0,{},v.data[e]);if(t&&t.length&&(t=j(t)?t:t.split(r.delimiter)).filter(function(e){return null!==e}).length){if(void 0===r.content&&(r.content=[]),void 0===r.config&&(r.config=[]),void 0===r.tags&&(r.tags=[]),a){for(o=0;o<t.length;o++)t[o]&&r.content.push(t[o]);for(o=0;o<i.length;o++)i[o]&&r.config.push(i[o]);for(o=0;o<n.length;o++)n[o]&&r.tags.push(n[o])}else r.content=t,r.config=i,r.tags=n;v.data[e]=r}},unset:function(e,t){var i=v.count(e);i&&(1===i?(v.data[e].content=[],v.data[e].config=[],v.data[e].tags=[]):(v.data[e].content[t]=null,v.data[e].config[t]=null,v.data[e].tags[t]=null))},out:function(e){var t="",i=v.data[e],n=v.count(e,!0);if(0===n)return{content:"",caption:""};for(var a=0;a<n;a++)t+=v.get(e,a);return{content:'<div class="file-initial-thumbs">'+t+"</div>",caption:i.msg(v.count(e))}},footer:function(e,t,i,n){e=v.data[e];if(i=void 0===i||i,0===e.config.length||$(e.config[t]))return"";var t=e.config[t],a=L("caption",t),o=L("width",t,"auto"),r=L("url",t,!1),s=L("key",t,null),l=L("showDelete",t,!0),d=L("showZoom",t,e.showZoom),t=L("showDrag",t,e.showDrag),l=e.isDelete?e.actions(!1,l,d,t,!1===r&&i,r,s):"";return e.footer.replace(/\{actions}/g,l).replace(/\{caption}/g,a).replace(/\{size}/g,e.getSize(n)).replace(/\{width}/g,o).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},n=function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},r=function(){return!(!window.File||!window.FileReader)},s=function(){var e=document.createElement("div");return!o(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},l=function(){return r()&&window.FormData},_=function(e,t){e.removeClass(t).addClass(t)},c={showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},u={main1:'{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',close:'<div class="close fileinput-remove">&times;</div>\n',fileIcon:'<i class="glyphicon glyphicon-file kv-caption-icon"></i>',caption:'<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',modalMain:'<div id="kvFileinputModal" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="kvFileinputModalLabel"></div>',modal:'<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',size:" <br><samp>({sizeText})</samp>",footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}{size}</div>\n    {progress} {actions}\n</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    </div>\n    {drag}\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',actionZoom:'<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',actionDrag:'<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon} {label}</div>'},h={generic:(t=(f='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"')+'><div class="kv-file-content">\n')+"{content}\n"+(d="</div>{footer}\n</div>\n"),html:t+'<div class="kv-preview-data file-preview-html" title="{caption}" style="width:{width};height:{height};">{data}</div>\n'+d,image:t+'<img src="{data}" class="kv-preview-data file-preview-image" title="{caption}" alt="{caption}" style="width:{width};height:{height};">\n'+d,text:t+'<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly style="width:{width};height:{height};">{data}</textarea>\n'+d,video:(t=f+' title="{caption}" '+e+'><div class="kv-file-content">\n')+'<video class="kv-preview-data" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n</video>\n'+d,audio:t+'<audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n</audio>\n'+d,flash:t+'<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n <div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n</object>\n'+d,object:t+'<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n <div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n</object>\n'+d,pdf:t+'<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n'+d,other:t+'<div class="kv-preview-data file-preview-other-frame">\n<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n</div>\n'+d},p=["image","html","text","video","audio","flash","pdf","object"],w={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},f={image:{width:"100%",height:"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}},U={image:function(e,t){return O(e,"image.*")||O(t,/\.(gif|png|jpe?g)$/i)},html:function(e,t){return O(e,"text/html")||O(t,/\.(htm|html)$/i)},text:function(e,t){return O(e,"text.*")||O(t,/\.(xml|javascript)$/i)||O(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return O(e,"video.*")&&(O(e,/(ogg|mp4|mp?g|webm|3gp)$/i)||O(t,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(e,t){return O(e,"audio.*")&&(O(t,/(ogg|mp3|mp?g|wav)$/i)||O(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,t){return O(e,"application/x-shockwave-flash",!0)||O(t,/\.(swf)$/i)},pdf:function(e,t){return O(e,"application/pdf",!0)||O(t,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},$=function(e,t){return null==e||0===e.length||t&&""===M.trim(e)},j=function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},L=function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},g=function(e,t,i){return $(e)||$(e[t])?i:M(e[t])},b=function(){return Math.round((new Date).getTime()+100*Math.random())},y=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},C=function(e,t){var i=e;return t&&M.each(t,function(e,t){"function"==typeof t&&(t=t()),i=i.split(e).join(t)}),i},D=function(e){e=(e.is("img")?e:e.find("source")).attr("src");N.revokeObjectURL(e)},T=function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},E=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},k=function(e){e&&!E()?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},S=function(e,t,i){if(i>=e.length)for(var n=i-e.length;1+n--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},(x=function(e,t){var i=this;i.$element=M(e),i._validate()&&(i.isPreviewable=r(),i.isIE9=o(9),i.isIE10=o(10),i.isPreviewable||i.isIE9?(i._init(t),i._listen()):i.$element.removeClass("file-loading"))}).prototype={constructor:x,_init:function(e){var i=this,t=i.$element;M.each(e,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":i[e]=n(t);break;default:i[e]=t}}),i.fileInputCleared=!1,i.fileBatchCompleted=!0,i.isPreviewable||(i.showPreview=!1),i.uploadFileAttr=$(t.attr("name"))?"file_data":t.attr("name"),i.reader=null,i.formdata={},i.clearStack(),i.uploadCount=0,i.uploadStatus={},i.uploadLog=[],i.uploadAsyncCount=0,i.loadedImages=[],i.totalImagesCount=0,i.ajaxRequests=[],i.isError=!1,i.ajaxAborted=!1,i.cancelling=!1,t=i._getLayoutTemplate("progress"),i.progressTemplate=t.replace("{class}",i.progressClass),i.progressCompleteTemplate=t.replace("{class}",i.progressCompleteClass),i.progressErrorTemplate=t.replace("{class}",i.progressErrorClass),i.dropZoneEnabled=s()&&i.dropZoneEnabled,i.isDisabled=i.$element.attr("disabled")||i.$element.attr("readonly"),i.isUploadable=l()&&!$(i.uploadUrl),i.isClickable=i.browseOnZoneClick&&i.showPreview&&(i.isUploadable&&i.dropZoneEnabled||!$(i.defaultPreviewContent)),i.slug="function"==typeof e.slugCallback?e.slugCallback:i._slugDefault,i.mainTemplate=i.showCaption?i._getLayoutTemplate("main1"):i._getLayoutTemplate("main2"),i.captionTemplate=i._getLayoutTemplate("caption"),i.previewGenericTemplate=i._getPreviewTemplate("generic"),i.resizeImage&&(i.maxImageWidth||i.maxImageHeight)&&(i.imageCanvas=document.createElement("canvas"),i.imageCanvasContext=i.imageCanvas.getContext("2d")),$(i.$element.attr("id"))&&i.$element.attr("id",b()),void 0===i.$container?i.$container=i._createContainer():i._refreshContainer(),i.$dropZone=i.$container.find(".file-drop-zone"),i.$progress=i.$container.find(".kv-upload-progress"),i.$btnUpload=i.$container.find(".fileinput-upload"),i.$captionContainer=g(e,"elCaptionContainer",i.$container.find(".file-caption")),i.$caption=g(e,"elCaptionText",i.$container.find(".file-caption-name")),i.$previewContainer=g(e,"elPreviewContainer",i.$container.find(".file-preview")),i.$preview=g(e,"elPreviewImage",i.$container.find(".file-preview-thumbnails")),i.$previewStatus=g(e,"elPreviewStatus",i.$container.find(".file-preview-status")),i.$errorContainer=g(e,"elErrorContainer",i.$previewContainer.find(".kv-fileinput-error")),$(i.msgErrorClass)||_(i.$errorContainer,i.msgErrorClass),i.$errorContainer.hide(),i.fileActionSettings=M.extend(!0,c,e.fileActionSettings),i.previewInitId="preview-"+b(),i.id=i.$element.attr("id"),v.init(i),i._initPreview(!0),i._initPreviewActions(),i.options=e,i._setFileDropZoneTitle(),i.$element.removeClass("file-loading"),i.$element.attr("disabled")&&i.disable(),i._initZoom()},_validate:function(){return"file"===this.$element.attr("type")||(this.$element.after('<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>'),!1)},_errorsExist:function(){var e;return!!this.$errorContainer.find("li").length||((e=M(document.createElement("div")).html(this.$errorContainer.html())).find("span.kv-error-close").remove(),e.find("ul").remove(),!!M.trim(e.text()).length)},_errorHandler:function(e,t){var i=this,e=e.target.error;e.code===e.NOT_FOUND_ERR?i._showError(i.msgFileNotFound.replace("{name}",t)):e.code===e.SECURITY_ERR?i._showError(i.msgFileSecured.replace("{name}",t)):e.code===e.NOT_READABLE_ERR?i._showError(i.msgFileNotReadable.replace("{name}",t)):e.code===e.ABORT_ERR?i._showError(i.msgFilePreviewAborted.replace("{name}",t)):i._showError(i.msgFilePreviewError.replace("{name}",t))},_addError:function(e){var t=this.$errorContainer;e&&t.length&&(t.html(this.errorCloseButton+e),m(t.find(".kv-error-close"),"click",function(){t.fadeOut("slow")}))},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var t,i=this,n=i.$errorContainer;e&&(t=i.msgFoldersNotAllowed.replace(/\{n}/g,e),i._addError(t),_(i.$container,"has-error"),n.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var n=this,a=n.$errorContainer,i=i||"fileuploaderror",o=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===a.find("ul").length?n._addError("<ul>"+o+"</ul>"):a.find("ul").append(o),a.fadeIn(800),n._raise(i,[t,e]),n.$container.removeClass("file-input-new"),_(n.$container,"has-error"),!0},_showError:function(e,t,i){var n=this,a=n.$errorContainer,i=i||"fileerror";return(t=t||{}).reader=n.reader,n._addError(e),a.fadeIn(800),n._raise(i,[t,e]),n.isUploadable||n._clearFileInput(),n.$container.removeClass("file-input-new"),_(n.$container,"has-error"),n.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=1<t.minFileCount?t.filePlural:t.fileSingle,i=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),n=t.$errorContainer;t._addError(i),t.isError=!0,t._updateFileDetails(0),n.fadeIn(800),t._raise("fileerror",[e,i]),t._clearFileInput(),_(t.$container,"has-error")},_parseError:function(e,t,i){var n=this,t=M.trim(t+""),a="."===t.slice(-1)?"":".",e=void 0!==e.responseJSON&&void 0!==e.responseJSON.error?e.responseJSON.error:e.responseText;return n.cancelling&&n.msgUploadAborted&&(t=n.msgUploadAborted),n.showAjaxErrorDetails&&e?t+=a+(e=0<(e=M.trim(e.replace(/\n\s*\n/g,"\n"))).length?"<pre>"+e+"</pre>":""):t+=a,n.cancelling=!1,i?"<b>"+i+": </b>"+t:t},_parseFileType:function(e){for(var t,i=0;i<p.length;i+=1)if(t=L(t=p[i],this.fileTypeSettings,U[t])(e.type,e.name)?t:"",!$(t))return t;return"other"},_parseFilePreviewIcon:function(e,t){var i,n=this,a=n.previewFileIcon;return t&&-1<t.indexOf(".")&&(i=t.split(".").pop(),n.previewFileIconSettings&&n.previewFileIconSettings[i]&&(a=n.previewFileIconSettings[i]),n.previewFileExtSettings&&M.each(n.previewFileExtSettings,function(e,t){n.previewFileIconSettings[e]&&t(i)&&(a=n.previewFileIconSettings[e])})),-1<e.indexOf("{previewFileIcon}")?e.replace(/\{previewFileIconClass}/g,n.previewFileIconClass).replace(/\{previewFileIcon}/g,a):e},_raise:function(e,t){var i=M.Event(e);if(void 0!==t?this.$element.trigger(i,t):this.$element.trigger(i),i.isDefaultPrevented())return!1;if(!i.result)return i.result;switch(e){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted=i.result}return!0},_listenFullScreen:function(e){var t,i,n=this.$modal;n&&n.length&&(t=n&&n.find(".btn-fullscreen"),i=n&&n.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),(e?t:i).addClass("active").attr("aria-pressed","true"),n.hasClass("file-zoom-fullscreen")||e?this._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var e=this,t=e.$element,i=t.closest("form"),n=e.$container;m(t,"change",M.proxy(e._change,e)),e.showBrowse&&m(e.$btnFile,"click",M.proxy(e._browse,e)),m(i,"reset",M.proxy(e.reset,e)),m(n.find(".fileinput-remove:not([disabled])"),"click",M.proxy(e.clear,e)),m(n.find(".fileinput-cancel"),"click",M.proxy(e.cancel,e)),e._initDragDrop(),e.isUploadable||m(i,"submit",M.proxy(e._submitForm,e)),m(e.$container.find(".fileinput-upload"),"click",M.proxy(e._uploadClick,e)),m(M(window),"resize",function(){e._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),m(M(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){e._listenFullScreen(E())}),e._initClickable()},_initClickable:function(){var t,i=this;i.isClickable&&(t=i.isUploadable?i.$dropZone:i.$preview.find(".file-default-preview"),_(t,"clickable"),t.attr("tabindex",-1),m(t,"click",function(e){e=M(e.target);e.parents(".file-preview-thumbnails").length&&!e.parents(".file-default-preview").length||(i.$element.trigger("click"),t.blur())}))},_initDragDrop:function(){var e=this,t=e.$dropZone;e.isUploadable&&e.dropZoneEnabled&&e.showPreview&&(m(t,"dragenter dragover",M.proxy(e._zoneDragEnter,e)),m(t,"dragleave",M.proxy(e._zoneDragLeave,e)),m(t,"drop",M.proxy(e._zoneDrop,e)),m(M(document),"dragenter dragover drop",e._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(e){var t=-1<M.inArray("Files",e.originalEvent.dataTransfer.types);this._zoneDragDropInit(e),this.isDisabled||!t?(e.originalEvent.dataTransfer.effectAllowed="none",e.originalEvent.dataTransfer.dropEffect="none"):_(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){e.preventDefault(),this.isDisabled||$(e.originalEvent.dataTransfer.files)||(this._change(e,"dragdrop"),this.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var t=this.$container.find(".fileinput-upload"),i=!t.hasClass("disabled")&&$(t.attr("disabled"));e&&e.isDefaultPrevented()||(this.isUploadable?(e.preventDefault(),i&&this.upload()):i&&"submit"!==t.attr("type")&&((i=t.closest("form")).length&&i.trigger("submit"),e.preventDefault()))},_submitForm:function(){var e=this,t=e.$element.get(0).files;return t&&0<e.minFileCount&&e._getFileCount(t.length)<e.minFileCount?(e._noFilesError({}),!1):!e._abort({})},_clearPreview:function(){var e=this;(e.showUploadedThumbs?e.$preview.find(".file-preview-frame:not(.file-preview-success)"):e.$preview.find(".file-preview-frame")).remove(),e.$preview.find(".file-preview-frame").length&&e.showPreview||e._resetUpload(),e._validateDefaultPreview()},_initSortable:function(){var e,n=this,t=n.$preview;window.KvSortable&&(e={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:".file-preview-initial",onSort:function(e){var t=e.oldIndex,i=e.newIndex;n.initialPreview=S(n.initialPreview,t,i),n.initialPreviewConfig=S(n.initialPreviewConfig,t,i),v.init(n),n._raise("filesorted",{previewId:M(e.item).attr("id"),oldIndex:t,newIndex:i,stack:n.initialPreviewConfig})}},(t=t.find(".file-initial-thumbs")).data("kvsortable")&&t.kvsortable("destroy"),M.extend(!0,e,n.fileActionSettings.dragSettings),t.kvsortable(e))},_initPreview:function(e){var t,i=this,n=i.initialCaption||"";v.count(i.id)?(t=v.out(i.id),n=e&&i.initialCaption?i.initialCaption:t.caption,i.$preview.html(t.content),i._setCaption(n),i._initSortable(),$(t.content)||i.$container.removeClass("file-input-new")):(i._clearPreview(),e?i._setCaption(n):i._initCaption())},_getZoomButton:function(e){var t=this.previewZoomButtonIcons[e],i=this.previewZoomButtonClasses[e],n=' title="'+(this.previewZoomButtonTitles[e]||"")+'" '+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(n+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+i+" btn-"+e+'"'+n+">"+t+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").replace(/\{heading}/g,e.msgZoomModalHeading).replace(/\{prev}/g,e._getZoomButton("prev")).replace(/\{next}/g,e._getZoomButton("next")).replace(/\{toggleheader}/g,e._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,e._getZoomButton("fullscreen")).replace(/\{borderless}/g,e._getZoomButton("borderless")).replace(/\{close}/g,e._getZoomButton("close"))},_listenModalEvent:function(n){var a=this,o=a.$modal;o.on(n+".bs.modal",function(e){var t=o.find(".btn-fullscreen"),i=o.find(".btn-borderless");a._raise("filezoom"+n,{sourceEvent:e,previewId:o.data("previewId"),modal:o}),"shown"===n&&(i.removeClass("active").attr("aria-pressed","false"),t.removeClass("active").attr("aria-pressed","false"),o.hasClass("file-zoom-fullscreen")&&(a._maximizeZoomDialog(),(E()?t:i).addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var e=this,t=e._getLayoutTemplate("modalMain");e.$modal=M("#kvFileinputModal"),e.$modal&&e.$modal.length||(t=M(document.createElement("div")).html(t).insertAfter(e.$container),e.$modal=M("#"+i).insertBefore(t),t.remove()),e.$modal.html(e._getModalContent()),e._listenModalEvent("show"),e._listenModalEvent("shown"),e._listenModalEvent("hide"),e._listenModalEvent("hidden"),e._listenModalEvent("loaded")},_initZoomButtons:function(){var e,t=this.$modal.data("previewId")||"",i=this.$preview.find(".file-preview-frame").toArray(),n=i.length,a=this.$modal.find(".btn-prev"),o=this.$modal.find(".btn-next");n&&(e=M(i[0]),i=M(i[n-1]),a.removeAttr("disabled"),o.removeAttr("disabled"),e.length&&e.attr("id")===t&&a.attr("disabled",!0),i.length&&i.attr("id")===t&&o.attr("disabled",!0))},_maximizeZoomDialog:function(){var e=this.$modal,t=e.find(".modal-header:visible"),i=e.find(".modal-footer:visible"),n=e.find(".modal-body"),a=M(window).height();e.addClass("file-zoom-fullscreen"),t&&t.length&&(a-=t.outerHeight(!0)),i&&i.length&&(a-=i.outerHeight(!0)),n&&n.length&&(a-=n.outerHeight(!0)-n.height()),e.find(".kv-zoom-body").height(a)},_resizeZoomDialog:function(e){var t=this,i=t.$modal,n=i.find(".btn-fullscreen"),a=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))k(!1),e?n.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),t._resizeZoomDialog(!0),a.hasClass("active")&&a.removeClass("active").attr("aria-pressed","false")):n.hasClass("active")?n.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),t.$modal.find(".kv-zoom-body").css("height",t.zoomModalHeight));else{if(!e)return void t._maximizeZoomDialog();k(!0)}i.focus()},_setZoomContent:function(e,t){var i,n,a,o=this,r=e.attr("id"),s=o.$modal,l=s.find(".btn-prev"),d=s.find(".btn-next"),c=s.find(".btn-fullscreen"),u=s.find(".btn-borderless"),h=s.find(".btn-toggleheader"),f=e.data("template")||"generic",p=e.find(".kv-file-content"),p=p.length?p.html():"",e=e.find(".file-footer-caption").text()||"";s.find(".kv-zoom-title").html(e),i=s.find(".kv-zoom-body"),t?(a=i.clone().insertAfter(i),i.html(p).hide(),a.fadeOut("fast",function(){i.fadeIn("fast"),a.remove()})):i.html(p),(e=o.previewZoomSettings[f])&&(n=i.find(".kv-preview-data"),_(n,"file-zoom-detail"),M.each(e,function(e,t){n.css(e,t),(n.attr("width")&&"width"===e||n.attr("height")&&"height"===e)&&n.removeAttr(e)})),s.data("previewId",r),m(l,"click",function(){o._zoomSlideShow("prev",r)}),m(d,"click",function(){o._zoomSlideShow("next",r)}),m(c,"click",function(){o._resizeZoomDialog(!0)}),m(u,"click",function(){o._resizeZoomDialog(!1)}),m(h,"click",function(){function e(e){var t=o.$modal.find(".kv-zoom-body"),i=o.zoomModalHeight;s.hasClass("file-zoom-fullscreen")&&(i=t.outerHeight(!0),e||(i-=n.outerHeight(!0))),t.css("height",e?i+e:i)}var t,n=s.find(".modal-header"),i=s.find(".modal-body .floating-buttons"),a=n.find(".kv-zoom-actions");n.is(":visible")?(t=n.outerHeight(!0),n.slideUp("slow",function(){a.find(".btn").appendTo(i),e(t)})):(i.find(".btn").appendTo(a),n.slideDown("slow",function(){e()})),s.focus()}),m(s,"keydown",function(e){e=e.which||e.keyCode;37!==e||l.attr("disabled")||o._zoomSlideShow("prev",r),39!==e||d.attr("disabled")||o._zoomSlideShow("next",r)})},_zoomPreview:function(e){var t=this;if(!e.length)throw"Cannot zoom to detailed preview!";t.$modal.html(t._getModalContent()),e=e.closest(".file-preview-frame"),t._setZoomContent(e),t.$modal.modal("show"),t._initZoomButtons()},_zoomSlideShow:function(e,t){var i,n,a=this,o=a.$modal.find(".kv-zoom-actions .btn-"+e),r=a.$preview.find(".file-preview-frame").toArray(),s=r.length;if(!o.attr("disabled")){for(i=0;i<s;i++)if(M(r[i]).attr("id")===t){n="prev"===e?i-1:i+1;break}n<0||s<=n||!r[n]||((o=M(r[n])).length&&a._setZoomContent(o,!0),a._initZoomButtons(),a._raise("filezoom"+e,{previewId:t,modal:a.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var e=M(this);m(e,"click",function(){t._zoomPreview(e)})})},_initPreviewActions:function(){function u(){var e=h.isUploadable?v.count(h.id):h.$element.get(0).files.length;0!==h.$preview.find(".kv-file-remove").length||e||(h.reset(),h.initialCaption="")}var h=this,n=h.deleteExtraData||{};h._initZoomButton(),h.$preview.find(".kv-file-remove").each(function(){var o,e,r,s,t,l,d=M(this),i=d.data("url")||h.deleteUrl,c=d.data("key");$(i)||void 0===c||(o=d.closest(".file-preview-frame"),t=v.data[h.id],s=o.data("fileindex"),s=parseInt(s.replace("init_","")),t=$(t.config)&&$(t.config[s])?null:t.config[s],"function"==typeof(l=$(t)||$(t.extra)?n:t.extra)&&(l=l()),r={id:d.attr("id"),key:c,extra:l},e=M.extend(!0,{},{url:i,type:"POST",dataType:"json",data:M.extend(!0,{},{key:c},l),beforeSend:function(e){h.ajaxAborted=!1,h._raise("filepredelete",[c,e,l]),h.ajaxAborted?e.abort():(_(o,"file-uploading"),_(d,"disabled"))},success:function(e,t,i){var n,a;$(e)||$(e.error)?(v.unset(h.id,s),a=0<(n=v.count(h.id))?h._getMsgSelected(n):"",h._raise("filedeleted",[c,i,l]),h._setCaption(a),o.removeClass("file-uploading").addClass("file-deleted"),o.fadeOut("slow",function(){h._clearObjects(o),o.remove(),u(),n||0!==h.getFileStack().length||(h._setCaption(""),h.reset())})):(r.jqXHR=i,r.response=e,h._showError(e.error,r,"filedeleteerror"),o.removeClass("file-uploading"),d.removeClass("disabled"),u())},error:function(e,t,i){i=h._parseError(e,i);r.jqXHR=e,r.response={},h._showError(i,r,"filedeleteerror"),o.removeClass("file-uploading"),u()}},h.ajaxDeleteSettings),m(d,"click",function(){if(!h._validateMinCount())return!1;M.ajax(e)}))})},_clearObjects:function(e){e.find("video audio").each(function(){this.pause(),M(this).remove()}),e.find("img object div").each(function(){M(this).remove()})},_clearFileInput:function(){var e,t,i,n=this.$element;$(n.val())||(this.isIE9||this.isIE10?(e=n.closest("form"),t=M(document.createElement("form")),i=M(document.createElement("div")),n.before(i),(e.length?e:i).after(t),t.append(n).trigger("reset"),i.before(n).remove(),t.remove()):n.val(""),this.fileInputCleared=!0)},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),_(e.$progress,"hide"),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas()},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&v.count(this.id)},_resetPreview:function(){var e,t=this;v.count(t.id)?(e=v.out(t.id),t.$preview.html(e.content),e=t.initialCaption||e.caption,t._setCaption(e)):(t._clearPreview(),t._initCaption()),t.showPreview&&(t._initZoom(),t._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!$(e.defaultPreviewContent)&&(e.$preview.html('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t=this;e?(t._clearPreview(),t.clearStack()):t._hasInitialPreview()?(e=v.out(t.id),t.$preview.html(e.content),t._setCaption(e.caption),t._initPreviewActions()):t._clearPreview()},_getLayoutTemplate:function(e){e=L(e,this.layoutTemplates,u[e]);return $(this.customLayoutTags)?e:C(e,this.customLayoutTags)},_getPreviewTemplate:function(e){e=L(e,this.previewTemplates,h[e]);return $(this.customPreviewTags)?e:C(e,this.customPreviewTags)},_getOutData:function(e,t,i){var n=this;return e=e||{},t=t||{},i=i||n.filestack.slice(0)||{},{form:n.formdata,files:i,filenames:n.filenames,filescount:n.getFilesCount(),extra:n._getExtraData(),response:t,reader:n.reader,jqXHR:e}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return 0<e?this.msgSelected.replace("{n}",e).replace("{files}",t):this.msgNoFilesSelected},_getThumbs:function(e){return this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+(e=e||""))},_getExtraData:function(e,t){var i=this.uploadExtraData;return i="function"==typeof this.uploadExtraData?this.uploadExtraData(e,t):i},_initXhr:function(e,a,o){var r=this;return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,i=e.total,n=e.loaded||e.position;e.lengthComputable&&(t=Math.floor(n/i*100)),a?r._setAsyncUploadStatus(a,t,o):r._setProgress(t)},!1),e},_ajaxSubmit:function(e,t,i,n,a,o){var r=this;r._raise("filepreajax",[a,o]),r._uploadExtra(a,o),o=M.extend(!0,{},{xhr:function(){var e=M.ajaxSettings.xhr();return r._initXhr(e,a,r.getFileStack().length)},url:r.uploadUrl,type:"POST",dataType:"json",data:r.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:e,success:t,complete:i,error:n},r.ajaxSettings),r.ajaxRequests.push(M.ajax(o))},_initUploadSuccess:function(e,t,i){function n(e,t){l[e]instanceof Array||(l[e]=[]),t&&t.length&&(l[e]=l[e].concat(t))}var a,o,r,s,l=this;l.showPreview&&"object"==typeof e&&!M.isEmptyObject(e)&&void 0!==e.initialPreview&&0<e.initialPreview.length&&(l.hasInitData=!0,o=e.initialPreview||[],r=e.initialPreviewConfig||[],s=e.initialPreviewThumbTags||[],e=!(void 0!==e.append&&!e.append),0<o.length&&!j(o)&&(o=o.split(l.initialPreviewDelimiter)),l.overwriteInitial=!1,n("initialPreview",o),n("initialPreviewConfig",r),n("initialPreviewThumbTags",s),void 0!==t?i?(i=t.attr("data-fileindex"),l.uploadCache.content[i]=o[0],l.uploadCache.config[i]=r[0]||[],l.uploadCache.tags[i]=s[0]||[],l.uploadCache.append=e):(i=v.add(l.id,o,r[0],s[0],e),i=v.get(l.id,i,!1),a=M(i).hide(),t.after(a).fadeOut("slow",function(){a.fadeIn("slow").css("display:inline-block"),l._initPreviewActions(),l._clearFileInput(),t.remove()})):(v.set(l.id,o,r,s,e),l._initPreview(),l._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(".file-preview-success").each(function(){var t=M(this),e=t.find(".kv-file-remove");e.removeAttr("disabled"),m(e,"click",function(){var e=i._raise("filesuccessremove",[t.attr("id"),t.data("fileindex")]);D(t),!1!==e&&t.fadeOut("slow",function(){t.remove(),i.$preview.find(".file-preview-frame").length||i.reset()})})})},_checkAsyncComplete:function(){for(var e,t=this,i=0;i<t.filestack.length;i++)if(t.filestack[i]&&(e=t.previewInitId+"-"+i,-1===M.inArray(e,t.uploadLog)))return!1;return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(e,t){var i=this,e=i._getExtraData(e,t);0!==e.length&&M.each(e,function(e,t){i.formdata.append(e,t)})},_uploadSingle:function(a,o,r){var n,s,e,l,t,i,d,c,u=this,h=u.getFileStack().length,f=new FormData,p=u.previewInitId+"-"+a,m=0<u.filestack.length||!M.isEmptyObject(u.uploadExtraData),g={id:p,index:a};u.formdata=f,u.showPreview&&(s=M("#"+p+":not(.file-preview-initial)"),l=s.find(".kv-file-upload"),t=s.find(".kv-file-remove"),M("#"+p).find(".file-thumb-progress").removeClass("hide")),0===h||!m||l&&l.hasClass("disabled")||u._abort(g)||(c=function(e,t){u.updateStack(e,void 0),u.uploadLog.push(t),u._checkAsyncComplete()&&(u.fileBatchCompleted=!0)},e=function(){var e=u.uploadCache;u.fileBatchCompleted&&setTimeout(function(){u.showPreview&&(v.set(u.id,e.content,e.config,e.tags,e.append),u.hasInitData&&(u._initPreview(),u._initPreviewActions())),u.unlock(),u._clearFileInput(),u._raise("filebatchuploadcomplete",[u.filestack,u._getExtraData()]),u.uploadCount=0,u.uploadStatus={},u.uploadLog=[],u._setProgress(101)},100)},h=function(e){n=u._getOutData(e),u.fileBatchCompleted=!1,u.showPreview&&(s.hasClass("file-preview-success")||(u._setThumbStatus(s,"Loading"),_(s,"file-uploading")),l.attr("disabled",!0),t.attr("disabled",!0)),r||u.lock(),u._raise("filepreupload",[n,p,a]),M.extend(!0,g,n),u._abort(g)&&(e.abort(),u._setProgressCancelled())},m=function(e,t,i){n=u._getOutData(i,e),M.extend(!0,g,n),setTimeout(function(){$(e)||$(e.error)?(u.showPreview&&(u._setThumbStatus(s,"Success"),l.hide(),u._initUploadSuccess(e,s,r)),u._raise("fileuploaded",[n,s.attr("id"),a]),r?c(a,p):u.updateStack(a,void 0)):(u._showUploadError(e.error,g),u._setPreviewError(s,a),r&&c(a,p))},100)},i=function(){setTimeout(function(){u.showPreview&&(l.removeAttr("disabled"),t.removeAttr("disabled"),s.removeClass("file-uploading"),u._setProgress(101,M("#"+p).find(".file-thumb-progress"))),r?e():(u.unlock(!1),u._clearFileInput()),u._initSuccessThumbs()},100)},d=function(e,t,i){var n=u._parseError(e,i,r?o[a].name:null);setTimeout(function(){r&&c(a,p),u.uploadStatus[p]=100,u._setPreviewError(s,a),M.extend(!0,g,u._getOutData(e)),u._showUploadError(n,g)},100)},f.append(u.uploadFileAttr,o[a],u.filenames[a]),f.append("file_id",a),u._ajaxSubmit(h,m,i,d,p,a))},_uploadBatch:function(){var e,t,i,r,s=this,n=s.filestack,a=n.length,o=0<s.filestack.length||!M.isEmptyObject(s.uploadExtraData);s.formdata=new FormData,0!==a&&o&&!s._abort({})&&(r=function(){M.each(n,function(e){s.updateStack(e,void 0)}),s._clearFileInput()},o=function(e){s.lock();var t=s._getOutData(e);s.showPreview&&s._getThumbs().each(function(){var e=M(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-success")||(s._setThumbStatus(e,"Loading"),_(e,"file-uploading")),t.attr("disabled",!0),i.attr("disabled",!0)}),s._raise("filebatchpreupload",[t]),s._abort(t)&&(e.abort(),s._setProgressCancelled())},e=function(e,t,i){var i=s._getOutData(i,e),n=s._getThumbs(":not(.file-preview-error)"),a=0,o=$(e)||$(e.errorkeys)?[]:e.errorkeys;$(e)||$(e.error)?(s._raise("filebatchuploadsuccess",[i]),r(),s.showPreview?(n.each(function(){var e=M(this),t=e.find(".kv-file-upload");e.find(".kv-file-upload").hide(),s._setThumbStatus(e,"Success"),e.removeClass("file-uploading"),t.removeAttr("disabled")}),s._initUploadSuccess(e)):s.reset()):(s.showPreview&&(n.each(function(){var e=M(this),t=e.find(".kv-file-remove"),i=e.find(".kv-file-upload");e.removeClass("file-uploading"),i.removeAttr("disabled"),t.removeAttr("disabled"),0===o.length?s._setPreviewError(e):(-1!==M.inArray(a,o)?s._setPreviewError(e):(e.find(".kv-file-upload").hide(),s._setThumbStatus(e,"Success"),s.updateStack(a,void 0)),a++)}),s._initUploadSuccess(e)),s._showUploadError(e.error,i,"filebatchuploaderror"))},i=function(){s._setProgress(101),s.unlock(),s._initSuccessThumbs(),s._clearFileInput(),s._raise("filebatchuploadcomplete",[s.filestack,s._getExtraData()])},t=function(e,t,i){var n=s._getOutData(e),e=s._parseError(e,i);s._showUploadError(e,n,"filebatchuploaderror"),s.uploadFileCount=a-1,s.showPreview&&(s._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==s.filestack[t]&&s._setPreviewError(e)}),s._getThumbs().removeClass("file-uploading"),s._getThumbs(" .kv-file-upload").removeAttr("disabled"),s._getThumbs(" .kv-file-delete").removeAttr("disabled"))},M.each(n,function(e,t){$(n[e])||s.formdata.append(s.uploadFileAttr,t,s.filenames[e])}),s._ajaxSubmit(o,e,i,t))},_uploadExtraOnly:function(){var a=this,o={};a.formdata=new FormData,a._abort(o)||a._ajaxSubmit(function(e){a.lock();var t=a._getOutData(e);a._raise("filebatchpreupload",[t]),a._setProgress(50),o.data=t,o.xhr=e,a._abort(o)&&(e.abort(),a._setProgressCancelled())},function(e,t,i){i=a._getOutData(i,e);$(e)||$(e.error)?(a._raise("filebatchuploadsuccess",[i]),a._clearFileInput(),a._initUploadSuccess(e)):a._showUploadError(e.error,i,"filebatchuploaderror")},function(){a._setProgress(101),a.unlock(),a._clearFileInput(),a._raise("filebatchuploadcomplete",[a.filestack,a._getExtraData()])},function(e,t,i){var n=a._getOutData(e),e=a._parseError(e,i);o.data=n,a._showUploadError(e,n,"filebatchuploaderror")})},_initFileActions:function(){var d=this;d.showPreview&&(d._initZoomButton(),d.$preview.find(".kv-file-remove").each(function(){var a,o,e=M(this),r=e.closest(".file-preview-frame"),s=r.attr("id"),l=r.attr("data-fileindex");m(e,"click",function(){if(!1===d._raise("filepreremove",[s,l])||!d._validateMinCount())return!1;a=r.hasClass("file-preview-error"),D(r),r.fadeOut("slow",function(){d.updateStack(l,void 0),d._clearObjects(r),r.remove(),s&&a&&d.$errorContainer.find('li[data-file-id="'+s+'"]').fadeOut("fast",function(){M(this).remove(),d._errorsExist()||d._resetErrors()}),d._clearFileInput();var e=d.getFileStack(!0),t=v.count(d.id),i=e.length,n=d.showPreview&&d.$preview.find(".file-preview-frame").length;0!==i||0!==t||n?(o=1<(o=t+i)?d._getMsgSelected(o):e[0]?d._getFileNames()[0]:"",d._setCaption(o)):d.reset(),d._raise("fileremoved",[s,l])})})}),d.$preview.find(".kv-file-upload").each(function(){var i=M(this);m(i,"click",function(){var e=i.closest(".file-preview-frame"),t=e.attr("data-fileindex");e.hasClass("file-preview-error")||d._uploadSingle(t,d.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(e){var t=parseFloat(e);if(null===e||isNaN(t))return"";var i=this.fileSizeGetter,t="function"==typeof i?i(e):(i=Math.floor(Math.log(t)/Math.log(1024)),e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],+(t/Math.pow(1024,i)).toFixed(2)+" "+e[i]);return this._getLayoutTemplate("size").replace("{sizeText}",t)},_generatePreviewTemplate:function(e,t,i,n,a,o,r,s,l,d){var c=this,u=c._getPreviewTemplate(e),s=s||"",h=L(e,c.previewSettings,w[e]),f=c.slug(i),l=l||c._renderFileFooter(f,r,h.width,o);return d=d||a.slice(a.lastIndexOf("-")+1),u=c._parseFilePreviewIcon(u,i),"text"===e||"html"===e?(r="text"===e?y(t):t,u.replace(/\{previewId}/g,a).replace(/\{caption}/g,f).replace(/\{width}/g,h.width).replace(/\{height}/g,h.height).replace(/\{frameClass}/g,s).replace(/\{cat}/g,n).replace(/\{footer}/g,l).replace(/\{fileindex}/g,d).replace(/\{data}/g,r).replace(/\{template}/g,e)):u.replace(/\{previewId}/g,a).replace(/\{caption}/g,f).replace(/\{frameClass}/g,s).replace(/\{type}/g,n).replace(/\{fileindex}/g,d).replace(/\{width}/g,h.width).replace(/\{height}/g,h.height).replace(/\{footer}/g,l).replace(/\{data}/g,t).replace(/\{template}/g,e)},_previewDefault:function(e,t,i){var n,a,o,r,s=this,l=s.$preview,d=l.find(".file-live-thumbs");s.showPreview&&(n=e?e.name:"",a=e?e.type:"",o=!0===i&&!s.isUploadable,r=N.createObjectURL(e),s._clearDefaultPreview(),r=s._generatePreviewTemplate("other",r,n,a,t,o,e.size),(d=d.length?d:M(document.createElement("div")).addClass("file-live-thumbs").appendTo(l)).append("\n"+r),!0===i&&s.isUploadable&&s._setThumbStatus(M("#"+t),"Error"))},_previewFile:function(e,t,i,n,a){var o,r,s,l,d,c,u,h;this.showPreview&&(r=(o=this)._parseFileType(t),s=t?t.name:"",l=o.slug(s),c=o.allowedPreviewTypes,h=o.allowedPreviewMimeTypes,d=o.$preview,c=c&&0<=c.indexOf(r),u=d.find(".file-live-thumbs"),i="text"===r||"html"===r||"image"===r?i.target.result:a,a=h&&-1!==h.indexOf(t.type),u.length||(u=M(document.createElement("div")).addClass("file-live-thumbs").appendTo(d)),"html"===r&&o.purifyHtml&&window.DOMPurify&&(i=window.DOMPurify.sanitize(i)),c||a?(h=o._generatePreviewTemplate(r,i,s,t.type,n,!1,t.size),o._clearDefaultPreview(),u.append("\n"+h),o._validateImage(e,n,l,t.type)):o._previewDefault(t,n),o._initSortable())},_slugDefault:function(e){return $(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(g){this.reader=new FileReader;var v,_=this,w=_.$element,b=_.$preview,y=_.reader,C=_.$previewContainer,D=_.$previewStatus,T=_.msgLoading,E=_.msgProgress,k=_.previewInitId,S=g.length,x=_.fileTypeSettings,F=_.filestack.length,I=_.maxFilePreviewSize&&parseFloat(_.maxFilePreviewSize),A=b.length&&(!I||isNaN(I)),P=function(e,t,i,n){var a=M.extend(!0,{},_._getOutData({},{},g),{id:i,index:n}),o={id:i,index:n,file:t,files:g};return _._previewDefault(t,i,!0),_.isUploadable&&_.addToStack(void 0),setTimeout(function(){v(n+1)},100),_._initFileActions(),_.removeFromPreviewOnError&&M("#"+i).remove(),_.isUploadable?_._showUploadError(e,a):_._showError(e,o)};_.loadedImages=[],_.totalImagesCount=0,M.each(g,function(e,t){var i=_.fileTypeSettings.image||U.image;i&&i(t.type)&&_.totalImagesCount++}),(v=function(t){if((S=$(w.attr("multiple"))?1:S)<=t)_.isUploadable&&0<_.filestack.length?_._raise("filebatchselected",[_.getFileStack()]):_._raise("filebatchselected",[g]),C.removeClass("file-thumb-loading"),D.html("");else{var e,i,n,a,o=k+"-"+(F+t),r=g[t],s=_.slug(r.name),l=(r.size||0)/1e3,d="",c=N.createObjectURL(r),u=0,h=_.allowedFileTypes,f=$(h)?"":h.join(", "),p=_.allowedFileExtensions,m=$(p)?"":p.join(", ");if($(p)||(d=new RegExp("\\.("+p.join("|")+")$","i")),l=l.toFixed(2),0<_.maxFileSize&&l>_.maxFileSize)i=_.msgSizeTooLarge.replace("{name}",s).replace("{size}",l).replace("{maxSize}",_.maxFileSize),_.isError=P(i,r,o,t);else{if(!$(h)&&j(h)){for(e=0;e<h.length;e+=1)n=h[e],a=void 0!==(n=x[n])&&n(r.type,s),u+=$(a)?0:a.length;if(0===u)return i=_.msgInvalidFileType.replace("{name}",s).replace("{types}",f),void(_.isError=P(i,r,o,t))}0!==u||$(p)||!j(p)||$(d)||(a=O(s,d),0!==(u+=$(a)?0:a.length))?_.showPreview?!A&&I<l?(_.addToStack(r),C.addClass("file-thumb-loading"),_._previewDefault(r,o),_._initFileActions(),_._updateFileDetails(S),v(t+1)):(b.length&&void 0!==FileReader?(D.html(T.replace("{index}",t+1).replace("{files}",S)),C.addClass("file-thumb-loading"),y.onerror=function(e){_._errorHandler(e,s)},y.onload=function(e){_._previewFile(t,r,e,o,c),_._initFileActions()},y.onloadend=function(){i=E.replace("{index}",t+1).replace("{files}",S).replace("{percent}",50).replace("{name}",s),setTimeout(function(){D.html(i),_._updateFileDetails(S),v(t+1)},100),_._raise("fileloaded",[r,o,t,y])},y.onprogress=function(e){e.lengthComputable&&(e=e.loaded/e.total*100,e=Math.ceil(e),i=E.replace("{index}",t+1).replace("{files}",S).replace("{percent}",e).replace("{name}",s),setTimeout(function(){D.html(i)},100))},f=L("text",x,U.text),p=L("image",x,U.image),f(r.type,s)?y.readAsText(r,_.textEncoding):p(r.type,s)?y.readAsDataURL(r):y.readAsArrayBuffer(r)):(_._previewDefault(r,o),setTimeout(function(){v(t+1),_._updateFileDetails(S)},100),_._raise("fileloaded",[r,o,t,y])),_.addToStack(r)):(_.addToStack(r),setTimeout(function(){v(t+1)},100),_._raise("fileloaded",[r,o,t,y])):(i=_.msgInvalidFileExtension.replace("{name}",s).replace("{extensions}",m),_.isError=P(i,r,o,t))}}})(0),_._updateFileDetails(S,!1)},_updateFileDetails:function(e){var t=this,i=t.$element,n=t.getFileStack(),i=o(9)&&T(i.val())||i[0].files[0]&&i[0].files[0].name||n.length&&n[0].name||"",i=t.slug(i),n=t.isUploadable?n.length:e,a=v.count(t.id)+n,n=1<n?t._getMsgSelected(a):i;t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t._showFileIcon(),t._setCaption(n,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t._raise("fileselect",[e,i]),v.count(t.id)&&t._initPreviewActions()},_setThumbStatus:function(e,t){var i,n,a,o,r;this.showPreview&&(n=(i="indicator"+t)+"Title",a="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),r=this.fileActionSettings,e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),"Success"===t&&(e.find(".file-drag-handle").remove(),o.css("margin-left",0)),o.html(r[i]),o.attr("title",r[n]),e.addClass(a))},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(e,t,i){var n=this,a=Math.min(e,100),o=a<100?n.progressTemplate:i?n.progressErrorTemplate:e<=100?n.progressTemplate:n.progressCompleteTemplate,r=n.progressUploadThreshold;t=t||n.$progress,$(o)||(r&&r<a&&e<=100?(e=o.replace("{percent}",r).replace("{percent}",r).replace("{percent}%",n.msgUploadThreshold),t.html(e)):t.html(o.replace(/\{percent}/g,a)),i&&t.find('[role="progressbar"]').html(i))},_setFileDropZoneTitle:function(){var e,t=this,i=t.$container.find(".file-drop-zone"),n=t.dropZoneTitle;t.isClickable&&(e=$(t.$element.attr("multiple"))?t.fileSingle:t.filePlural,n+=t.dropZoneClickTitle.replace("{files}",e)),i.find("."+t.dropZoneTitleClass).remove(),t.isUploadable&&t.showPreview&&0!==i.length&&!(0<t.getFileStack().length)&&t.dropZoneEnabled&&(0===i.find(".file-preview-frame").length&&$(t.defaultPreviewContent)&&i.prepend('<div class="'+t.dropZoneTitleClass+'">'+n+"</div>"),t.$container.removeClass("file-input-new"),_(t.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(e,t,i){var n=0;this._setProgress(t,M("#"+e).find(".file-thumb-progress")),this.uploadStatus[e]=t,M.each(this.uploadStatus,function(e,t){n+=t}),this._setProgress(Math.floor(n/i))},_validateMinCount:function(){var e=this,t=(e.isUploadable?e.getFileStack():e.$element.get(0).files).length;return!(e.validateInitialCount&&0<e.minFileCount&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){return this.validateInitialCount&&!this.overwriteInitial&&(e+=v.count(this.id)),e},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileNames:function(t){return this.filenames.filter(function(e){return t?void 0!==e:null!=e})},_setPreviewError:function(e,t,i){void 0!==t&&this.updateStack(t,i),this.removeFromPreviewOnError?e.remove():this._setThumbStatus(e,"Error")},_checkDimensions:function(e,t,i,n,a,o,r){var s=this[("Small"===t?"min":"max")+"Image"+o];!$(s)&&i.length&&(i=i[0],i="Width"===o?i.naturalWidth||i.width:i.naturalHeight||i.height,("Small"===t?s<=i:i<=s)||(i=this["msgImage"+o+t].replace("{name}",a).replace("{size}",s),this._showUploadError(i,r),this._setPreviewError(n,e,null)))},_validateImage:function(e,t,i,n){var a,o=this,r=o.$preview,s=r.find("#"+t),l=s.find("img");i=i||"Untitled",l.length&&m(l,"load",function(){a=s.width(),r.width()<a&&(l.css("width","100%"),s.css("width","97%")),a={ind:e,id:t},o._checkDimensions(e,"Small",l,s,i,"Width",a),o._checkDimensions(e,"Small",l,s,i,"Height",a),o.resizeImage||(o._checkDimensions(e,"Large",l,s,i,"Width",a),o._checkDimensions(e,"Large",l,s,i,"Height",a)),o._raise("fileimageloaded",[t]),o.loadedImages.push({ind:e,img:l,thumb:s,pid:t,typ:n}),o._validateAllImages(),N.revokeObjectURL(l.attr("src"))})},_validateAllImages:function(){var e,t,i,n,a,o,r,s,l=this;if(l.loadedImages.length===l.totalImagesCount&&(l._raise("fileimagesloaded"),l.resizeImage)){for(s=l.isUploadable?l._showUploadError:l._showError,e=0;e<l.loadedImages.length;e++)i=(t=l.loadedImages[e]).img,n=t.thumb,r={id:a=t.pid,index:o=t.ind},l._getResizedImage(i[0],t.typ,a,o)||(s(l.msgImageResizeError,r,"fileimageresizeerror"),l._setPreviewError(n,o));l._raise("fileimagesresized")}},_getResizedImage:function(e,t,i,n){var a,o,r=this,s=e.naturalWidth,l=e.naturalHeight,d=1,c=r.maxImageWidth||s,u=r.maxImageHeight||l,h=r.imageCanvas,f=r.imageCanvasContext;if(!(s&&l))return!1;if(s===c&&l===u)return!0;t=t||r.resizeDefaultImageType,a=c<s,o=u<l,d="width"===r.resizePreference?a?c/s:o?u/l:1:o?u/l:a?c/s:1,r._resetCanvas(),l*=d,h.width=s*=d,h.height=l;try{return f.drawImage(e,0,0,s,l),h.toBlob(function(e){r._raise("fileimageresized",[i,n]),r.filestack[n]=e},t,r.resizeQuality),!0}catch(e){return!1}},_initBrowse:function(e){var t=this;t.showBrowse?(t.$btnFile=e.find(".btn-file"),t.$btnFile.append(t.$element)):t.$element.hide()},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||$(e)?(this.$caption.html(""),!1):(this._setCaption(e),!0)},_setCaption:function(e,t){var i,n,a=this,o=a.getFileStack();if(a.$caption.length){if(t)i=M("<div>"+a.msgValidationError+"</div>").text(),o=(t=o.length)?1===t&&o[0]?a._getFileNames()[0]:a._getMsgSelected(t):a._getMsgSelected(a.msgNo),n='<span class="'+a.msgValidationErrorClass+'">'+a.msgValidationErrorIcon+($(e)?o:e)+"</span>";else{if($(e))return;i=M("<div>"+e+"</div>").text(),n=a._getLayoutTemplate("fileIcon")+i}a.$caption.html(n),a.$caption.attr("title",i),a.$captionContainer.find(".file-caption-ellipsis").attr("title",i)}},_createContainer:function(){var e=this,t=M(document.createElement("div")).attr({class:"file-input file-input-new"}).html(e._renderMain());return e.$element.before(t),e._initBrowse(t),e.theme&&t.addClass("theme-"+e.theme),t},_refreshContainer:function(){var e=this.$container;e.before(this.$element),e.html(this._renderMain()),this._initBrowse(e)},_renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",t=e.showPreview?e._getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",n=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,n=e.captionTemplate.replace(/\{class}/g,n+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":"")).replace(/\{preview}/g,t).replace(/\{close}/g,i).replace(/\{caption}/g,n).replace(/\{upload}/g,e._renderButton("upload")).replace(/\{remove}/g,e._renderButton("remove")).replace(/\{cancel}/g,e._renderButton("cancel")).replace(/\{browse}/g,e._renderButton("browse"))},_renderButton:function(e){var t=this,i=t._getLayoutTemplate("btnDefault"),n=t[e+"Class"],a=t[e+"Title"],o=t[e+"Icon"],r=t[e+"Label"],s=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(t.showRemove)break;return"";case"cancel":if(!t.showCancel)return"";n+=" hide";break;case"upload":if(!t.showUpload)return"";t.isUploadable&&!t.isDisabled?i=t._getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":if(!t.showBrowse)return"";i=t._getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",$(r)||(r=' <span class="'+t.buttonLabelClass+'">'+r+"</span>"),i.replace("{type}",l).replace("{css}",n).replace("{title}",a).replace("{status}",s).replace("{icon}",o).replace("{label}",r)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(e,t,i,n){var a=this,o=a.fileActionSettings,r=o.showRemove,s=o.showDrag,l=o.showUpload,d=o.showZoom,c=a._getLayoutTemplate("footer"),u=n?o.indicatorError:o.indicatorNew,n=n?o.indicatorErrorTitle:o.indicatorNewTitle;return t=a._getSize(t),o=(a.isUploadable?c.replace(/\{actions}/g,a._renderFileActions(l,r,d,s,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,t).replace(/\{width}/g,i).replace(/\{progress}/g,a._renderThumbProgress()):c.replace(/\{actions}/g,a._renderFileActions(!1,!1,d,s,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,t).replace(/\{width}/g,i).replace(/\{progress}/g,"")).replace(/\{indicator}/g,u).replace(/\{indicatorTitle}/g,n),o=C(o,a.previewThumbTags)},_renderFileActions:function(e,t,i,n,a,o,r,s){if(!(e||t||i||n))return"";var l=this,o=!1===o?"":' data-url="'+o+'"',r=!1===r?"":' data-key="'+r+'"',d="",c="",u="",h="",f=l._getLayoutTemplate("actions"),p=l.fileActionSettings,m=l.otherActionButtons.replace(/\{dataKey}/g,r),a=a?p.removeClass+" disabled":p.removeClass;return t&&(d=l._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,a).replace(/\{removeIcon}/g,p.removeIcon).replace(/\{removeTitle}/g,p.removeTitle).replace(/\{dataUrl}/g,o).replace(/\{dataKey}/g,r)),e&&(c=l._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,p.uploadClass).replace(/\{uploadIcon}/g,p.uploadIcon).replace(/\{uploadTitle}/g,p.uploadTitle)),i&&(u=l._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,p.zoomClass).replace(/\{zoomIcon}/g,p.zoomIcon).replace(/\{zoomTitle}/g,p.zoomTitle)),n&&s&&(t="drag-handle-init "+p.dragClass,h=l._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,t).replace(/\{dragTitle}/g,p.dragTitle).replace(/\{dragIcon}/g,p.dragIcon)),f.replace(/\{delete}/g,d).replace(/\{upload}/g,c).replace(/\{zoom}/g,u).replace(/\{drag}/g,h).replace(/\{other}/g,m)},_browse:function(e){var t=this;t._raise("filebrowse"),e&&e.isDefaultPrevented()||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_change:function(e){var t=this,i=t.$element;if(!t.isUploadable&&$(i.val())&&t.fileInputCleared)t.fileInputCleared=!1;else{t.fileInputCleared=!1;var n,a,o,r,s,l,d=1<arguments.length,c=t.isUploadable,u=0,h=(d?e.originalEvent.dataTransfer:i.get(0)).files,f=t.filestack.length,i=$(i.attr("multiple"))&&0<f,p=0;if(t.reader=null,t._resetUpload(),t._hideFileIcon(),t.isUploadable&&t.$container.find(".file-drop-zone ."+t.dropZoneTitleClass).remove(),d)for(n=[];h[u];)(a=h[u]).type||a.size%4096!=0?n.push(a):p++,u++;else n=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if($(n)||0===n.length)c||t.clear(),t._showFolderError(p),t._raise("fileselectnone");else{if(t._resetErrors(),d=n.length,e=t._getFileCount(t.isUploadable?t.getFileStack().length+d:d),0<t.maxFileCount&&e>t.maxFileCount){if(!t.autoReplace||d>t.maxFileCount)return d=t.autoReplace&&d>t.maxFileCount?d:e,d=t.msgFilesTooMany.replace("{m}",t.maxFileCount).replace("{n}",d),t.isError=(d=d,s=r=o=null,l=M.extend(!0,{},t._getOutData({},{},h),{id:r,index:s}),r={id:r,index:s,file:o,files:h},t.isUploadable?t._showUploadError(d,l):t._showError(d,r)),t.$captionContainer.find(".kv-caption-icon").hide(),t._setCaption("",!0),void t.$container.removeClass("file-input-new file-input-ajax-new");e>t.maxFileCount&&t._resetPreviewThumbs(c)}else!c||i?(t._resetPreviewThumbs(!1),i&&t.clearStack()):!c||0!==f||v.count(t.id)&&!t.overwriteInitial||t._resetPreviewThumbs(!0);t.isPreviewable?t._readFiles(n):t._updateFileDetails(1),t._showFolderError(p)}}},_abort:function(e){var t=this;return!(!t.ajaxAborted||"object"!=typeof t.ajaxAborted||void 0===t.ajaxAborted.message)&&((e=M.extend(!0,{},t._getOutData(),e)).abortData=t.ajaxAborted.data||{},e.abortMessage=t.ajaxAborted.message,t.cancel(),t._setProgress(101,t.$progress,t.msgCancelled),t._showUploadError(t.ajaxAborted.message,e,"filecustomerror"),!0)},_resetFileStack:function(){var n=this,a=0,o=[],r=[];n._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex"),i=n.filestack[t];-1!==t&&(void 0!==i?(o[a]=i,r[a]=n._getFileName(i),e.attr({id:n.previewInitId+"-"+a,"data-fileindex":a}),a++):e.attr({id:"uploaded-"+b(),"data-fileindex":"-1"}))}),n.filestack=o,n.filenames=r},clearStack:function(){return this.filestack=[],this.filenames=[],this.$element},updateStack:function(e,t){return this.filestack[e]=t,this.filenames[e]=this._getFileName(t),this.$element},addToStack:function(e){return this.filestack.push(e),this.filenames.push(this._getFileName(e)),this.$element},getFileStack:function(t){return this.filestack.filter(function(e){return t?void 0!==e:null!=e})},getFilesCount:function(){var e=(this.isUploadable?this.getFileStack():this.$element.get(0).files).length;return this._getFileCount(e)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&_(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&_(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var e,i=this,t=i.ajaxRequests,n=t.length;if(0<n)for(e=0;e<n;e+=1)i.cancelling=!0,t[e].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==i.filestack[t]&&(e.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),e.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var e,t=this;return t.$btnUpload.removeAttr("disabled"),t._getThumbs().find("video,audio,img").each(function(){D(M(this))}),t._resetUpload(),t.clearStack(),t._clearFileInput(),t._resetErrors(!0),t._raise("fileclear"),t._hasInitialPreview()?(t._showFileIcon(),t._resetPreview(),t._initPreviewActions(),t.$container.removeClass("file-input-new")):(t._getThumbs().each(function(){t._clearObjects(M(this))}),t.isUploadable&&(v.data[t.id]={}),t.$preview.html(""),e=!t.overwriteInitial&&0<t.initialCaption.length?t.initialCaption:"",t.$caption.html(e),t.$caption.attr("title",""),_(t.$container,"file-input-new"),t._validateDefaultPreview()),0!==t.$container.find(".file-preview-frame").length||t._initCaption()||t.$captionContainer.find(".kv-caption-icon").hide(),t._hideFileIcon(),t._raise("filecleared"),t.$captionContainer.focus(),t._setFileDropZoneTitle(),t.$element},reset:function(){var e=this;return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),e._raise("filereset"),_(e.$container,"file-input-new"),(e.$preview.find(".file-preview-frame").length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e._setFileDropZoneTitle(),e.clearStack(),e.formdata={},e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e._initDragDrop(),e.$element},upload:function(){var e,t,i=this,n=i.getFileStack().length,a=!M.isEmptyObject(i._getExtraData());if(0<i.minFileCount&&i._getFileCount(n)<i.minFileCount)i._noFilesError({});else if(i.isUploadable&&!i.isDisabled&&(0!==n||a))if(i._resetUpload(),i.$progress.removeClass("hide"),i.uploadCount=0,i.uploadStatus={},i.uploadLog=[],i.lock(),i._setProgress(2),0===n&&a)i._uploadExtraOnly();else{if(t=i.filestack.length,i.hasInitData=!1,!i.uploadAsync)return i._uploadBatch(),i.$element;for(n=i._getOutData(),i._raise("filebatchpreupload",[n]),i.fileBatchCompleted=!1,i.uploadCache={content:[],config:[],tags:[],append:!0},i.uploadAsyncCount=i.getFileStack().length,e=0;e<t;e++)i.uploadCache.content[e]=null,i.uploadCache.config[e]=null,i.uploadCache.tags[e]=null;for(e=0;e<t;e++)void 0!==i.filestack[e]&&i._uploadSingle(e,i.filestack,!0)}},destroy:function(){var e=this.$container;return e.find(".file-drop-zone").off(),this.$element.insertBefore(e).off(a).removeData(),e.off().remove(),this.$element},refresh:function(e){var t=this.$element;return e=e?M.extend(!0,{},this.options,e):this.options,this.destroy(),t.fileinput(e),t.val()&&t.trigger("change.fileinput"),t}},M.fn.fileinput=function(s){if(r()||o(9)){var l=Array.apply(null,arguments),d=[];switch(l.shift(),this.each(function(){var e=M(this),t=e.data("fileinput"),i="object"==typeof s&&s,n=i.theme||e.data("theme"),a={},o={},r=i.language||e.data("language")||"en";t||(n&&(o=M.fn.fileinputThemes[n]||{}),"en"===r||$(M.fn.fileinputLocales[r])||(a=M.fn.fileinputLocales[r]||{}),n=M.extend(!0,{},M.fn.fileinput.defaults,o,M.fn.fileinputLocales.en,a,i,e.data()),t=new x(this,n),e.data("fileinput",t)),"string"==typeof s&&d.push(t[s].apply(t,l))}),d.length){case 0:return this;case 1:return d[0];default:return d}}},M.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,previewClass:"",captionClass:"",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:u,previewTemplates:h,previewZoomSettings:f,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},allowedPreviewTypes:p,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:w,fileTypeSettings:U,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},M.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}},M.fn.fileinput.Constructor=x,M(document).ready(function(){var e=M("input.file[type=file]");e.length&&e.fileinput()})}),function(){function a(e,t,i){i.FileUploadSuccess(!1);var n,a,o=t().errorSwitch,r=t().errorSwitchServer,s=($(e).on("filecleared fileselect",function(){r&&r(!1),o&&o(!1)}),$(e).on("fileselect",function(){0<$("#ie9Frame").length?1<($(this).val().match(/\./g)||[]).length?(i.SelectedFileIsInvalidFileExtensionDots(!0),i.FileUploadSuccess(!1)):$(this).closest("form").submit():$(this).fileinput("upload")}),$(e).on("fileuploaderror",function(e,t){t=t.jqXHR.status;r&&(r(t),i.FileUploadSuccess(!1)),o&&(o(!t),i.FileUploadSuccess(!1))}),o&&o(!1),r&&r(!1),$(e)),l=t.get("bootstrapfileuploader"),d={};for(n in l)"event"==(0===n.indexOf("file")?"event":"config")?function(e,t,i,n){e.on(t,function(){return n[t].apply(i,arguments)})}(s,n,i,l):d[n]="function"==typeof(a=l[n])?a():a;s.fileinput(d)}ko.bindingHandlers.bootstrapfileuploader={init:function(e,t,i,n){e.bootstrapfileuploader=new a(e,i,n)}}}();