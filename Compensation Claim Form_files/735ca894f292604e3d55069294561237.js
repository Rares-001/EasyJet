Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function currencyId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var currencyCodeId=window.gtmDataLayer[i].ecommerce.detail.products[0].currencyCode;return currencyCodeId}}else return""},transform:function(val){return val?val:""},
load:"page",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce)return true}else return true;return null})},dataDefName:"Currency Code - CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64141"})},64141)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.number_adults)return window.dataLayer.number_adults;return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Number of Adults",collection:"Flights",source:"Manage",priv:"false"},{id:"25788"})},25788)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&dataLayer.destination)return dataLayer.destination;return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Airport Code - Destination",collection:"Flights",source:"Manage",priv:"false"},{id:"42230"})},42230)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function paxIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var paxMixp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension40;return paxMixp}}else return""},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,
dataDefName:"PAX Mix CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"65741"})},65741)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function startdateIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var startIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension31;return startIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Start Date CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64118"})},64118)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.car_cost?window.dataLayer.car_cost&&window.dataLayer.car_cost!=""?"yes":"no":"no"},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Car Hire in Booking",collection:"Extras",source:"Manage",priv:"false"},{id:"54427"})},
54427)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function InfantpaxId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var infantpId="";if(window.gtmDataLayer[i].ecommerce.detail)infantpId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension43;else infantpId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension43;
return infantpId}}else return""},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce)return true}else return true;return null})},dataDefName:"Infant CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64109"})},64109)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function departureDateId(){for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce){var deptDateId="";if(window.gtmDataLayer[i].ecommerce.detail)deptDateId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension31;else deptDateId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension31;
return deptDateId}},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?window.gtmDataLayer.filter((d)=>d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Departure date- GTM DL",collection:"Page",source:"Manage",priv:"false"},{id:"65212"})},65212)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function destinationId(){for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce){var destId="";if(window.gtmDataLayer[i].ecommerce.detail)destId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension23;else destId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension23;
return destId}},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?window.gtmDataLayer.filter((d)=>d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Destination CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64105"})},64105)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function childrenpaxIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var childpIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension42;return childpIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Child CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64116"})},64116)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var airportCode="";if(window.dataLayer&&window.dataLayer.destination)airportCode=window.dataLayer.destination;switch(airportCode){case "*MI":return"MIL";case "*NW":return"LPL";case "*SC":return"EDI";case "*BR":return"SXF";case "*CN":return"LPA";case "*SD":return"CAG";case "*CO":return"BIA";
case "*LO":return"LON";case "*PA":return"PAR";case "*SY":return"CTA";case "*CR":return"HER";default:return airportCode}return airportCode},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Airport Code - Destination - Sojern",collection:"Flights",source:"Manage",priv:"false"},{id:"42158"})},42158)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return 0},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"KPMG - Booking Confirmation - surveyPromptFrequency",collection:"Global",source:"Manage",priv:"false"},{id:"66312"})},66312)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return navigator.userAgent},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"User agent",collection:"Session",source:"Manage",priv:"false"},{id:"63882"})},63882)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function startdateId(){for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce){var startId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension31;return startId}},transform:function(val){return val?val:""},load:"page",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?
window.gtmDataLayer.filter((d)=>d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Start Date CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64106"})},64106)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.vouchers_cost?window.dataLayer.vouchers_cost:""},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Vouchers DD",collection:"Flights",source:"Manage",priv:"false"},{id:"63044"})},
63044)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function getCookie(referrer){var name=referrer+"\x3d";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return"aw"},transform:function(val){return val?
val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"aw default",collection:"Session",source:"Manage",priv:"false"},{id:"64068"})},64068)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.qty)return window.dataLayer.qty;return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Number of Flights",collection:"Flights",source:"Manage",priv:"false"},{id:"50390"})},50390)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function InfantpaxIdPur(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var infantpIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension43;return infantpIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Infant CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64115"})},64115)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function departuredatepur(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var deptdatep=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension31;return deptdatep}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Departure Date CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"65217"})},65217)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function childrenpaxId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var childpId="";if(window.gtmDataLayer[i].ecommerce.detail)childpId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension42;else childpId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension42;
return childpId}}else return""},transform:function(val){return val?val:""},load:"page",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce)return true}else return true;return null})},dataDefName:"Child CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64108"})},64108)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function adultpaxIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var adultIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension41;return adultIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Adults CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64117"})},64117)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function adultpaxId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var adultId="";if(window.gtmDataLayer[i].ecommerce.detail)adultId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension41;else adultId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension41;
return adultId}}else return""},transform:function(val){return val?val:""},load:"page",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce)return true}else return true;return null})},dataDefName:"Adults CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64107"})},64107)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;window.addEventListener("ej.dataLayer.loaded",function(e){Bootstrapper.ensEvent.trigger("Low Fare Finder - Load")});window.addEventListener("ej.dataLayer.event",function(e){Bootstrapper.ensEvent.trigger("Low Fare Finder - Event",e);console.log("Ensighten GA Event Object Start ----\x3e");console.log(e);console.log("Ensighten GA Event Object End ----\x3e")})},3462686,631329);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.select_inbound_date){var date=window.dataLayer.select_inbound_date.split("-");return date[2]+"-"+date[1]+"-"+date[0]}return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Date - Return",collection:"Flights",source:"Manage",
priv:"false"},{id:"42153"})},42153)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function routeId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var routesId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension46;return routesId}}else return""},transform:function(val){return val?val:""},load:"page",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){if(window.gtmDataLayer)for(var i=
0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce)return true}else return true;return null})},dataDefName:"Route GTM DL",collection:"Page",source:"Manage",priv:"false"},{id:"65213"})},65213)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function originIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var departIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension19;return departIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Origin airport CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64120"})},64120)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function EndDateId(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var EnddateIdp=window.gtmDataLayer[i].ecommerce.purchase.products[1].dimension31;return EnddateIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"End date- CJS- Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64121"})},64121)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return 5},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"KPMG - Booking Confirmation - openingChance",collection:"Global",source:"Manage",priv:"false"},{id:"66311"})},66311)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return 60},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"KPMG - Post-Booking - surveyPromptFrequency",collection:"Global",source:"Manage",priv:"false"},{id:"66309"})},66309)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.select_inbound_date){var date=window.dataLayer.select_inbound_date.split("-");return date[0]+"-"+date[1]+"-"+date[2]}return""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Date - Return - YMD",collection:"Flights",source:"Manage",
priv:"false"},{id:"58624"})},58624)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.total_price?window.dataLayer.total_price:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Total Price DataLayer",collection:"Flights",source:"Manage",priv:"false"},{id:"54874"})},54874)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return typeof LFF!="undefined"?LFF:""},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Low Fare Finder",collection:"Page",source:"Manage",priv:"false"},{id:"62000"})},62E3)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return 3},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"KPMG - Post-Booking - openingChance",collection:"Global",source:"Manage",priv:"false"},{id:"66310"})},66310)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ensEvent.add("Low Fare Finder - Event",function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var sendObj={"hitType":"event","eventCategory":"Low Fare Finder","eventAction":"Low Fare Event","eventLabel":function(){return this.detail.component}.call(this),"transport":"","nonInteraction":0,"dimension37":typeof this.detail.destinationIataCode!=
"undefined"?this.detail.destinationIataCode:"","dimension38":typeof this.detail.originIataCode!="undefined"?this.detail.originIataCode:"","dimension39":typeof this.detail.destinationIataCode!="undefined"?this.detail.destinationIataCode+"|"+this.detail.originIataCode:"","dimension40":typeof this.detail.leg!="undefined"?this.detail.leg:"","dimension41":typeof this.detail.year!="undefined"?this.detail.year:"","dimension42":typeof this.detail.month!="undefined"?this.detail.month:"","dimension43":typeof this.detail.dayNumber!=
"undefined"?this.detail.dayNumber:"","dimension44":typeof this.detail.dayName!="undefined"?this.detail.dayName:"","dimension45":typeof this.detail.flightIndexInChart!="undefined"?this.detail.flightIndexInChart+"|"+this.detail.departureTime:""};window["ga"]("NGTM1.send",sendObj)})},3464039,631031);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.select_outbound_date){var date=window.dataLayer.select_outbound_date.split("-");return date[2]+"-"+date[1]+"-"+date[0]}return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Date - Departure",collection:"Flights",
source:"Manage",priv:"false"},{id:"42152"})},42152)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function pbBookingId(){try{var booking=document.querySelector(".confirmation-page-content div.section.about h2").innerText.match(/([A-Z]|[0-9]){7}/);return booking!=null?booking[0]:""}catch(e){return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.whenValueExistsTrigger,
dataDefName:"postbook transaction",collection:"Page",source:"Manage",priv:"false"},{id:"64140"})},64140)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function originId(){for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce){var departId="";if(window.gtmDataLayer[i].ecommerce.detail)departId=window.gtmDataLayer[i].ecommerce.detail.products[0].dimension19;else departId=window.gtmDataLayer[i].ecommerce.checkout.products[0].dimension19;
return departId}},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?window.gtmDataLayer.filter((d)=>d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Origin airport CJS",collection:"Page",source:"Manage",priv:"false"},{id:"64104"})},64104)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer)if(window.dataLayer.number_adults||window.dataLayer.number_children||window.dataLayer.number_infants){var adults=window.dataLayer.number_adults?parseInt(window.dataLayer.number_adults,10):0,children=window.dataLayer.number_children?parseInt(window.dataLayer.number_children,
10):0,infants=window.dataLayer.number_infants?parseInt(window.dataLayer.number_infants,10):0;return adults+children+infants}else if(window.dataLayer.passenger_quantity)return window.dataLayer.passenger_quantity;return""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Number of Passengers",collection:"Flights",source:"Manage",priv:"false"},{id:"42058"})},42058)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function flightNumbers(){var flightIds=[],flightProds;for(var i=0;i<gtmDataLayer.length;i++)if(typeof gtmDataLayer[i].ecommerce!=="undefined"){if(window.gtmDataLayer[i].ecommerce.detail)flightProds=window.gtmDataLayer[i].ecommerce.detail.products;else if(window.gtmDataLayer[i].ecommerce.purchase)flightProds=
window.gtmDataLayer[i].ecommerce.purchase.products;else flightProds=window.gtmDataLayer[i].ecommerce.checkout.products;for(var j=0;j<flightProds.length;j++)if(flightProds[j].category==="Flight: Outbound"||flightProds[j].category==="Flight: Inbound")flightIds.push(flightProds[j].id)}return flightIds.join("|")},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?window.gtmDataLayer.filter((d)=>
d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Flight Number",collection:"Page",source:"Manage",priv:"false"},{id:"66308"})},66308)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.total_allocated_seat_cost?window.dataLayer.total_allocated_seat_cost:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Total Allocated Seat Cost",collection:"Flights",source:"Manage",priv:"false"},{id:"54875"})},
54875)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function departuredatepur(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var deptdatep=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension46;return deptdatep}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Route outbound CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"65218"})},65218)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.luggage_weight?window.dataLayer.luggage_weight:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Luggage Weight",collection:"Extras",source:"Manage",priv:"false"},{id:"55040"})},55040)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.tran_departure_point&&window.dataLayer.destination){var departure=window.dataLayer.tran_departure_point,destination=window.dataLayer.destination;return departure+"_"+destination}return""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,
dataDefName:"Airport Code - Departure and Destination",collection:"Flights",source:"Manage",priv:"false"},{id:"42346"})},42346)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function destinationIdp(){if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++){if(window.gtmDataLayer[i].ecommerce){var destIdp=window.gtmDataLayer[i].ecommerce.purchase.products[0].dimension23;return destIdp}}else return""},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Destination CJS - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"64119"})},64119)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer&&window.dataLayer.country?window.dataLayer.country:""},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Site Language",collection:"Global",source:"Manage",priv:"false"},{id:"40559"})},40559)},
-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function returnDateId(){for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce){var retDateId="";if(window.gtmDataLayer[i].ecommerce.detail&&window.gtmDataLayer[i].ecommerce.detail.products.length>1)if(window.gtmDataLayer[i].ecommerce.detail.products[1].dimension137=="inbound")retDateId=
window.gtmDataLayer[i].ecommerce.detail.products[1].dimension31;else retDateId=window.dataLayer.select_inbound_date;else retDateId=window.dataLayer.select_inbound_date;return retDateId}},transform:function(val){return val?val:""},load:"instance",trigger:function(){return Bootstrapper.data.delayUntilTrigger(function(){return window.gtmDataLayer?window.gtmDataLayer.filter((d)=>d.ecommerce).slice(-1).length>0?true:null:null})},dataDefName:"Return date- GTM DL",collection:"Page",source:"Manage",priv:"false"},
{id:"67505"})},67505)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function bookerId(){try{var tracker=ga.getAll()[0].get("clientId");return tracker.split(".").join("")}catch(e){return"NO_ID"}},transform:function(val){return val?val:""},load:"session",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"ClientId- no dot- CJS",collection:"Session",source:"Manage",
priv:"false"},{id:"64199"})},64199)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer&&window.dataLayer.select_outbound_date){var date=window.dataLayer.select_outbound_date.split("-");return date[0]+"-"+date[1]+"-"+date[2]}return""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Date - Departure - YMD",collection:"Flights",
source:"Manage",priv:"false"},{id:"58623"})},58623)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var airportCode="";if(window.dataLayer&&window.dataLayer.tran_departure_point)airportCode=window.dataLayer.tran_departure_point;switch(airportCode){case "*MI":return"MIL";case "*NW":return"LPL";case "*SC":return"EDI";case "*BR":return"SXF";case "*CN":return"LPA";case "*SD":return"CAG";
case "*CO":return"BIA";case "*LO":return"LON";case "*PA":return"PAR";case "*SY":return"CTA";case "*CR":return"HER";default:return airportCode}return airportCode},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Airport Code - Departure - Sojern",collection:"Flights",source:"Manage",priv:"false"},{id:"42157"})},42157)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function currencyCode(){var currencyc="";if(dataLayer.currency)currencyc=dataLayer.currency;if(window.gtmDataLayer)for(var i=0;i<window.gtmDataLayer.length;i++)if(window.gtmDataLayer[i].ecommerce)if(window.gtmDataLayer[i].ecommerce.purchase)currencyc=window.gtmDataLayer[i].ecommerce.purchase.products[0].currencyCode;
return currencyc},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"CurrencyCode - Purchase",collection:"Page",source:"Manage",priv:"false"},{id:"65332"})},65332)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var pageName=window.gtmDataLayer&&window.gtmDataLayer.pageName?window.gtmDataLayer.pageName:"";if(pageName)return pageName;else return window.gtmDataLayer?gtmDataLayer.pageName:""},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,
dataDefName:"Page Name - New DL",collection:"Global",source:"Manage",priv:"false"},{id:"65467"})},65467)},-1,-1);